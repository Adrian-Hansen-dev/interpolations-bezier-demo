import"./style-CTfVKPeI.js";import{S as Ou,P as zu,W as Pu,F as Ct,L as xt,T as lr,B as It,c as Vt,a as Ru,b as qu}from"./troika-three-text.esm-OaSV2ryF.js";function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ht.apply(null,arguments)}var hn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function $u(e,t){if(Wt(e,t))return e[t];throw typeof e[t]=="function"&&Lu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Uu(e,t,r){if(Wt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Wt(e,t){return!Zu(e)&&!Array.isArray(e)?!1:Jt(Vu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Lu(e,t){return e==null||typeof e[t]!="function"||Jt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Jt(Hu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Zu(e){return typeof e=="object"&&e&&e.constructor===Object}var Vu={length:!0,name:!0},Hu={toString:!0,valueOf:!0,toLocaleString:!0};class Wu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return $u(this.wrappedObject,t)}set(t,r){return Uu(this.wrappedObject,t,r),this}has(t){return Wt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Gu(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Wt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Gu(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function De(e){return typeof e=="number"}function ye(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Ju(e){return typeof e=="bigint"}function Dn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function pn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function dn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ke(e){return typeof e=="string"}var _e=Array.isArray;function we(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Gt(e){return Array.isArray(e)||we(e)}function Yu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Xu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ju(e){return e&&e.constructor.prototype.isRange===!0||!1}function wr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ku(e){return typeof e=="boolean"}function Qu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function ku(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ei(e){return typeof e=="function"}function ti(e){return e instanceof Date}function ri(e){return e instanceof RegExp}function Er(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Dn(e)&&!pn(e))}function ni(e){return e?e instanceof Map||e instanceof Wu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function ui(e){return e===null}function ii(e){return e===void 0}function oi(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function si(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ai(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function fi(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ci(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function li(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function hi(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function pi(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function di(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function gi(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function mi(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function vi(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function wi(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ei(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ai(e){return e&&e.constructor.prototype.isChain===!0||!1}function at(e){var t=typeof e;return t==="object"?e===null?"null":ye(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Fe(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Fe(r)});if(e instanceof Date)return new Date(e.valueOf());if(ye(e))return e;if(Er(e))return Ci(e,Fe);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Ci(e,t){var r={};for(var n in e)Jt(e,n)&&(r[n]=t(e[n]));return r}function yt(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!yt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!yt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Jt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function yi(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var Bi=["Matrix","Array"],_i=["number","BigNumber","Fraction"],zt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(hn)};Ht(zt,hn,{MATRIX_OPTIONS:Bi,NUMBER_OPTIONS:_i});function Or(){return!0}function We(){return!1}function mt(){}const zr="Argument is not a typed-function.";function gn(){function e(p){return typeof p=="object"&&p!==null&&p.constructor===Object}const t=[{name:"number",test:function(p){return typeof p=="number"}},{name:"string",test:function(p){return typeof p=="string"}},{name:"boolean",test:function(p){return typeof p=="boolean"}},{name:"Function",test:function(p){return typeof p=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(p){return p instanceof Date}},{name:"RegExp",test:function(p){return p instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(p){return p===null}},{name:"undefined",test:function(p){return p===void 0}}],r={name:"any",test:Or,isAny:!0};let n,u,i=0,o={createCount:0};function a(p){const E=n.get(p);if(E)return E;let b='Unknown type "'+p+'"';const S=p.toLowerCase();let z;for(z of u)if(z.toLowerCase()===S){b+='. Did you mean "'+z+'" ?';break}throw new TypeError(b)}function f(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const b=E?a(E).index:u.length,S=[];for(let x=0;x<p.length;++x){if(!p[x]||typeof p[x].name!="string"||typeof p[x].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const U=p[x].name;if(n.has(U))throw new TypeError('Duplicate type name "'+U+'"');S.push(U),n.set(U,{name:U,test:p[x].test,isAny:p[x].isAny,index:b+x,conversionsTo:[]})}const z=u.slice(b);u=u.slice(0,b).concat(S).concat(z);for(let x=b+S.length;x<u.length;++x)n.get(u[x]).index=x}function l(){n=new Map,u=[],i=0,f([r],!1)}l(),f(t);function s(){let p;for(p of u)n.get(p).conversionsTo=[];i=0}function h(p){const E=u.filter(b=>{const S=n.get(b);return!S.isAny&&S.test(p)});return E.length?E:["any"]}function D(p){return p&&typeof p=="function"&&"_typedFunctionData"in p}function w(p,E,b){if(!D(p))throw new TypeError(zr);const S=b&&b.exact,z=Array.isArray(E)?E.join(","):E,x=B(z),U=g(x);if(!S||U in p.signatures){const oe=p._typedFunctionData.signatureMap.get(U);if(oe)return oe}const R=x.length;let L;if(S){L=[];let oe;for(oe in p.signatures)L.push(p._typedFunctionData.signatureMap.get(oe))}else L=p._typedFunctionData.signatures;for(let oe=0;oe<R;++oe){const le=x[oe],Ae=[];let qe;for(qe of L){const Re=_(qe.params,oe);if(!(!Re||le.restParam&&!Re.restParam)){if(!Re.hasAny){const Ye=v(Re);if(le.types.some(Xe=>!Ye.has(Xe.name)))continue}Ae.push(qe)}}if(L=Ae,L.length===0)break}let P;for(P of L)if(P.params.length<=R)return P;throw new TypeError("Signature not found (signature: "+(p.name||"unnamed")+"("+g(x,", ")+"))")}function C(p,E,b){return w(p,E,b).implementation}function c(p,E){const b=a(E);if(b.test(p))return p;const S=b.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+E+" defined.");for(let z=0;z<S.length;z++)if(a(S[z].from).test(p))return S[z].convert(p);throw new Error("Cannot convert "+p+" to "+E)}function g(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return p.map(b=>b.name).join(E)}function F(p){const E=p.indexOf("...")===0,S=(E?p.length>3?p.slice(3):"any":p).split("|").map(R=>a(R.trim()));let z=!1,x=E?"...":"";return{types:S.map(function(R){return z=R.isAny||z,x+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:x.slice(0,-1),hasAny:z,hasConversion:!1,restParam:E}}function y(p){const E=p.types.map(U=>U.name),b=K(E);let S=p.hasAny,z=p.name;const x=b.map(function(U){const R=a(U.from);return S=R.isAny||S,z+="|"+U.from,{name:U.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:U,conversionIndex:U.index}});return{types:p.types.concat(x),name:z,hasAny:S,hasConversion:x.length>0,restParam:p.restParam}}function v(p){return p.typeSet||(p.typeSet=new Set,p.types.forEach(E=>p.typeSet.add(E.name))),p.typeSet}function B(p){const E=[];if(typeof p!="string")throw new TypeError("Signatures must be strings");const b=p.trim();if(b==="")return E;const S=b.split(",");for(let z=0;z<S.length;++z){const x=F(S[z].trim());if(x.restParam&&z!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[z]+'": only allowed for the last parameter');if(x.types.length===0)return null;E.push(x)}return E}function m(p){const E=ae(p);return E?E.restParam:!1}function d(p){if(!p||p.types.length===0)return Or;if(p.types.length===1)return a(p.types[0].name).test;if(p.types.length===2){const E=a(p.types[0].name).test,b=a(p.types[1].name).test;return function(z){return E(z)||b(z)}}else{const E=p.types.map(function(b){return a(b.name).test});return function(S){for(let z=0;z<E.length;z++)if(E[z](S))return!0;return!1}}}function A(p){let E,b,S;if(m(p)){E=Pe(p).map(d);const z=E.length,x=d(ae(p)),U=function(R){for(let L=z;L<R.length;L++)if(!x(R[L]))return!1;return!0};return function(L){for(let P=0;P<E.length;P++)if(!E[P](L[P]))return!1;return U(L)&&L.length>=z+1}}else return p.length===0?function(x){return x.length===0}:p.length===1?(b=d(p[0]),function(x){return b(x[0])&&x.length===1}):p.length===2?(b=d(p[0]),S=d(p[1]),function(x){return b(x[0])&&S(x[1])&&x.length===2}):(E=p.map(d),function(x){for(let U=0;U<E.length;U++)if(!E[U](x[U]))return!1;return x.length===E.length})}function _(p,E){return E<p.length?p[E]:m(p)?ae(p):null}function N(p,E){const b=_(p,E);return b?v(b):new Set}function T(p){return p.conversion===null||p.conversion===void 0}function O(p,E){const b=new Set;return p.forEach(S=>{const z=N(S.params,E);let x;for(x of z)b.add(x)}),b.has("any")?["any"]:Array.from(b)}function Z(p,E,b){let S,z;const x=p||"unnamed";let U=b,R;for(R=0;R<E.length;R++){const le=[];if(U.forEach(Ae=>{const qe=_(Ae.params,R),Re=d(qe);(R<Ae.params.length||m(Ae.params))&&Re(E[R])&&le.push(Ae)}),le.length===0){if(z=O(U,R),z.length>0){const Ae=h(E[R]);return S=new TypeError("Unexpected type of argument in function "+x+" (expected: "+z.join(" or ")+", actual: "+Ae.join(" | ")+", index: "+R+")"),S.data={category:"wrongType",fn:x,index:R,actual:Ae,expected:z},S}}else U=le}const L=U.map(function(le){return m(le.params)?1/0:le.params.length});if(E.length<Math.min.apply(null,L))return z=O(U,R),S=new TypeError("Too few arguments in function "+x+" (expected: "+z.join(" or ")+", index: "+E.length+")"),S.data={category:"tooFewArgs",fn:x,index:E.length,expected:z},S;const P=Math.max.apply(null,L);if(E.length>P)return S=new TypeError("Too many arguments in function "+x+" (expected: "+P+", actual: "+E.length+")"),S.data={category:"tooManyArgs",fn:x,index:E.length,expectedLength:P},S;const oe=[];for(let le=0;le<E.length;++le)oe.push(h(E[le]).join("|"));return S=new TypeError('Arguments of type "'+oe.join(", ")+'" do not match any of the defined signatures of function '+x+"."),S.data={category:"mismatch",actual:oe},S}function G(p){let E=u.length+1;for(let b=0;b<p.types.length;b++)T(p.types[b])&&(E=Math.min(E,p.types[b].typeIndex));return E}function J(p){let E=i+1;for(let b=0;b<p.types.length;b++)T(p.types[b])||(E=Math.min(E,p.types[b].conversionIndex));return E}function V(p,E){if(p.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(p.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(p.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;const b=G(p)-G(E);if(b<0)return-1;if(b>0)return 1;const S=J(p)-J(E);return S<0?-1:S>0?1:0}function q(p,E){const b=p.params,S=E.params,z=ae(b),x=ae(S),U=m(b),R=m(S);if(U&&z.hasAny){if(!R||!x.hasAny)return 1}else if(R&&x.hasAny)return-1;let L=0,P=0,oe;for(oe of b)oe.hasAny&&++L,oe.hasConversion&&++P;let le=0,Ae=0;for(oe of S)oe.hasAny&&++le,oe.hasConversion&&++Ae;if(L!==le)return L-le;if(U&&z.hasConversion){if(!R||!x.hasConversion)return 1}else if(R&&x.hasConversion)return-1;if(P!==Ae)return P-Ae;if(U){if(!R)return 1}else if(R)return-1;const qe=(b.length-S.length)*(U?-1:1);if(qe!==0)return qe;const Re=[];let Ye=0;for(let gt=0;gt<b.length;++gt){const Pt=V(b[gt],S[gt]);Re.push(Pt),Ye+=Pt}if(Ye!==0)return Ye;let Xe;for(Xe of Re)if(Xe!==0)return Xe;return 0}function K(p){if(p.length===0)return[];const E=p.map(a);p.length>1&&E.sort((z,x)=>z.index-x.index);let b=E[0].conversionsTo;if(p.length===1)return b;b=b.concat([]);const S=new Set(p);for(let z=1;z<E.length;++z){let x;for(x of E[z].conversionsTo)S.has(x.from)||(b.push(x),S.add(x.from))}return b}function Y(p,E){let b=E;if(p.some(z=>z.hasConversion)){const z=m(p),x=p.map(X);b=function(){const R=[],L=z?arguments.length-1:arguments.length;for(let P=0;P<L;P++)R[P]=x[P](arguments[P]);return z&&(R[L]=arguments[L].map(x[L])),E.apply(this,R)}}let S=b;if(m(p)){const z=p.length-1;S=function(){return b.apply(this,ie(arguments,0,z).concat([ie(arguments,z)]))}}return S}function X(p){let E,b,S,z;const x=[],U=[];switch(p.types.forEach(function(R){R.conversion&&(x.push(a(R.conversion.from).test),U.push(R.conversion.convert))}),U.length){case 0:return function(L){return L};case 1:return E=x[0],S=U[0],function(L){return E(L)?S(L):L};case 2:return E=x[0],b=x[1],S=U[0],z=U[1],function(L){return E(L)?S(L):b(L)?z(L):L};default:return function(L){for(let P=0;P<U.length;P++)if(x[P](L))return U[P](L);return L}}}function k(p){function E(b,S,z){if(S<b.length){const x=b[S];let U=[];if(x.restParam){const R=x.types.filter(T);R.length<x.types.length&&U.push({types:R,name:"..."+R.map(L=>L.name).join("|"),hasAny:R.some(L=>L.isAny),hasConversion:!1,restParam:!0}),U.push(x)}else U=x.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return xe(U,function(R){return E(b,S+1,z.concat([R]))})}else return[z]}return E(p,0,[])}function ue(p,E){const b=Math.max(p.length,E.length);for(let R=0;R<b;R++){const L=N(p,R),P=N(E,R);let oe=!1,le;for(le of P)if(L.has(le)){oe=!0;break}if(!oe)return!1}const S=p.length,z=E.length,x=m(p),U=m(E);return x?U?S===z:z>=S:U?S>=z:S===z}function re(p){return p.map(E=>rt(E)?He(E.referToSelf.callback):tt(E)?Me(E.referTo.references,E.referTo.callback):E)}function se(p,E,b){const S=[];let z;for(z of p){let x=b[z];if(typeof x!="number")throw new TypeError('No definition for referenced signature "'+z+'"');if(x=E[x],typeof x!="function")return!1;S.push(x)}return S}function Ee(p,E,b){const S=re(p),z=new Array(S.length).fill(!1);let x=!0;for(;x;){x=!1;let U=!0;for(let R=0;R<S.length;++R){if(z[R])continue;const L=S[R];if(rt(L))S[R]=L.referToSelf.callback(b),S[R].referToSelf=L.referToSelf,z[R]=!0,U=!1;else if(tt(L)){const P=se(L.referTo.references,S,E);P?(S[R]=L.referTo.callback.apply(this,P),S[R].referTo=L.referTo,z[R]=!0,U=!1):x=!0}}if(U&&x)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function ve(p){const E=/\bthis(\(|\.signatures\b)/;Object.keys(p).forEach(b=>{const S=p[b];if(E.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ge(p,E){if(o.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ve(E);const b=[],S=[],z={},x=[];let U;for(U in E){if(!Object.prototype.hasOwnProperty.call(E,U))continue;const ne=B(U);if(!ne)continue;b.forEach(function(St){if(ue(St,ne))throw new TypeError('Conflicting signatures "'+g(St)+'" and "'+g(ne)+'".')}),b.push(ne);const $e=S.length;S.push(E[U]);const xu=ne.map(y);let Rt;for(Rt of k(xu)){const St=g(Rt);x.push({params:Rt,name:St,fn:$e}),Rt.every(Iu=>!Iu.hasConversion)&&(z[St]=$e)}}x.sort(q);const R=Ee(S,z,Mt);let L;for(L in z)Object.prototype.hasOwnProperty.call(z,L)&&(z[L]=R[z[L]]);const P=[],oe=new Map;for(L of x)oe.has(L.name)||(L.fn=R[L.fn],P.push(L),oe.set(L.name,L));const le=P[0]&&P[0].params.length<=2&&!m(P[0].params),Ae=P[1]&&P[1].params.length<=2&&!m(P[1].params),qe=P[2]&&P[2].params.length<=2&&!m(P[2].params),Re=P[3]&&P[3].params.length<=2&&!m(P[3].params),Ye=P[4]&&P[4].params.length<=2&&!m(P[4].params),Xe=P[5]&&P[5].params.length<=2&&!m(P[5].params),gt=le&&Ae&&qe&&Re&&Ye&&Xe;for(let ne=0;ne<P.length;++ne)P[ne].test=A(P[ne].params);const Pt=le?d(P[0].params[0]):We,uu=Ae?d(P[1].params[0]):We,iu=qe?d(P[2].params[0]):We,ou=Re?d(P[3].params[0]):We,su=Ye?d(P[4].params[0]):We,au=Xe?d(P[5].params[0]):We,fu=le?d(P[0].params[1]):We,cu=Ae?d(P[1].params[1]):We,lu=qe?d(P[2].params[1]):We,hu=Re?d(P[3].params[1]):We,Du=Ye?d(P[4].params[1]):We,pu=Xe?d(P[5].params[1]):We;for(let ne=0;ne<P.length;++ne)P[ne].implementation=Y(P[ne].params,P[ne].fn);const du=le?P[0].implementation:mt,gu=Ae?P[1].implementation:mt,mu=qe?P[2].implementation:mt,vu=Re?P[3].implementation:mt,Fu=Ye?P[4].implementation:mt,wu=Xe?P[5].implementation:mt,Eu=le?P[0].params.length:-1,Au=Ae?P[1].params.length:-1,Cu=qe?P[2].params.length:-1,yu=Re?P[3].params.length:-1,Bu=Ye?P[4].params.length:-1,_u=Xe?P[5].params.length:-1,bu=gt?6:0,Nu=P.length,Mu=P.map(ne=>ne.test),Su=P.map(ne=>ne.implementation),Tu=function(){for(let $e=bu;$e<Nu;$e++)if(Mu[$e](arguments))return Su[$e].apply(this,arguments);return o.onMismatch(p,arguments,P)};function Mt(ne,$e){return arguments.length===Eu&&Pt(ne)&&fu($e)?du.apply(this,arguments):arguments.length===Au&&uu(ne)&&cu($e)?gu.apply(this,arguments):arguments.length===Cu&&iu(ne)&&lu($e)?mu.apply(this,arguments):arguments.length===yu&&ou(ne)&&hu($e)?vu.apply(this,arguments):arguments.length===Bu&&su(ne)&&Du($e)?Fu.apply(this,arguments):arguments.length===_u&&au(ne)&&pu($e)?wu.apply(this,arguments):Tu.apply(this,arguments)}try{Object.defineProperty(Mt,"name",{value:p})}catch{}return Mt.signatures=z,Mt._typedFunctionData={signatures:P,signatureMap:oe},Mt}function he(p,E,b){throw Z(p,E,b)}function Pe(p){return ie(p,0,p.length-1)}function ae(p){return p[p.length-1]}function ie(p,E,b){return Array.prototype.slice.call(p,E,b)}function Ve(p,E){for(let b=0;b<p.length;b++)if(E(p[b]))return p[b]}function xe(p,E){return Array.prototype.concat.apply([],p.map(E))}function fe(){const p=Pe(arguments).map(b=>g(B(b))),E=ae(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return Me(p,E)}function Me(p,E){return{referTo:{references:p,callback:E}}}function He(p){if(typeof p!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:p}}}function tt(p){return p&&typeof p.referTo=="object"&&Array.isArray(p.referTo.references)&&typeof p.referTo.callback=="function"}function rt(p){return p&&typeof p.referToSelf=="object"&&typeof p.referToSelf.callback=="function"}function pt(p,E){if(!p)return E;if(E&&E!==p){const b=new Error("Function names do not match (expected: "+p+", actual: "+E+")");throw b.data={actual:E,expected:p},b}return p}function dt(p){let E;for(const b in p)Object.prototype.hasOwnProperty.call(p,b)&&(D(p[b])||typeof p[b].signature=="string")&&(E=pt(E,p[b].name));return E}function or(p,E){let b;for(b in E)if(Object.prototype.hasOwnProperty.call(E,b)){if(b in p&&E[b]!==p[b]){const S=new Error('Signature "'+b+'" is defined twice');throw S.data={signature:b,sourceFunction:E[b],destFunction:p[b]},S}p[b]=E[b]}}const nu=o;o=function(p){const E=typeof p=="string",b=E?1:0;let S=E?p:"";const z={};for(let x=b;x<arguments.length;++x){const U=arguments[x];let R={},L;if(typeof U=="function"?(L=U.name,typeof U.signature=="string"?R[U.signature]=U:D(U)&&(R=U.signatures)):e(U)&&(R=U,E||(L=dt(U))),Object.keys(R).length===0){const P=new TypeError("Argument to 'typed' at index "+x+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw P.data={index:x,argument:U},P}E||(S=pt(S,L)),or(z,R)}return ge(S||"",z)},o.create=gn,o.createCount=nu.createCount,o.onMismatch=he,o.throwMismatchError=he,o.createError=Z,o.clear=l,o.clearConversions=s,o.addTypes=f,o._findType=a,o.referTo=fe,o.referToSelf=He,o.convert=c,o.findSignature=w,o.find=C,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(p,E){let b="any";E!==!1&&n.has("Object")&&(b="Object"),o.addTypes([p],b)};function Ir(p){if(!p||typeof p.from!="string"||typeof p.to!="string"||typeof p.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(p.to===p.from)throw new SyntaxError('Illegal to define conversion from "'+p.from+'" to itself.')}return o.addConversion=function(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ir(p);const b=a(p.to),S=b.conversionsTo.find(z=>z.from===p.from);if(S)if(E&&E.override)o.removeConversion({from:S.from,to:p.to,convert:S.convert});else throw new Error('There is already a conversion from "'+p.from+'" to "'+b.name+'"');b.conversionsTo.push({from:p.from,convert:p.convert,index:i++})},o.addConversions=function(p,E){p.forEach(b=>o.addConversion(b,E))},o.removeConversion=function(p){Ir(p);const E=a(p.to),b=Ve(E.conversionsTo,z=>z.from===p.from);if(!b)throw new Error("Attempt to remove nonexistent conversion from "+p.from+" to "+p.to);if(b.convert!==p.convert)throw new Error("Conversion to remove does not match existing conversion");const S=E.conversionsTo.indexOf(b);E.conversionsTo.splice(S,1)},o.resolve=function(p,E){if(!D(p))throw new TypeError(zr);const b=p._typedFunctionData.signatures;for(let S=0;S<b.length;++S)if(b[S].test(E))return b[S];return null},o}const Yt=gn();function te(e,t,r,n){function u(i){var o=yi(i,t.map(Mi));return bi(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function bi(e,t,r){var n=t.filter(i=>!Ni(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Ni(e){return e&&e[0]==="?"}function Mi(e){return e&&e[0]==="?"?e.slice(1):e}function Ne(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function sr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ne(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ne(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function hr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=mn(t);switch(r){case"fixed":return Ti(e,n);case"exponential":return vn(e,n);case"engineering":return Si(e,n);case"bin":return sr(e,2,u);case"oct":return sr(e,8,u);case"hex":return sr(e,16,u);case"auto":return xi(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function mn(e){var t="auto",r,n;if(e!==void 0)if(De(e))r=e;else if(ye(e))r=e.toNumber();else if(Er(e))e.precision!==void 0&&(r=Pr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Pr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function tr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(a){return u-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function Si(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=tr(e),n=rr(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(De(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var a=Math.abs(u-o)-(i.length-1),f=0;f<a;f++)i.push(0);for(var l=Math.abs(u-o),s=1;l>0;)s++,l--;var h=i.slice(s).join(""),D=De(t)&&h.length||h.match(/[1-9]/)?"."+h:"",w=i.slice(0,s).join("")+D+"e"+(u>=0?"+":"")+o.toString();return n.sign+w}function Ti(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=tr(e),n=typeof t=="number"?rr(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(At(o-u.length))),i<0&&(u=At(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function vn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=tr(e),n=t?rr(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(At(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function xi(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Rr(r==null?void 0:r.lowerExp,-3),u=Rr(r==null?void 0:r.upperExp,5),i=tr(e),o=t?rr(i,t):i;if(o.exponent<n||o.exponent>=u)return vn(e,t);var a=o.coefficients,f=o.exponent;a.length<t&&(a=a.concat(At(t-a.length))),a=a.concat(At(f-a.length+1+(a.length<t?t-a.length:0))),a=At(-f).concat(a);var l=f>0?f:0;return l<a.length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}function rr(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function At(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Ii(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Xt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function Pr(e,t){if(De(e))return e;if(ye(e))return e.toNumber();t()}function Rr(e,t){return De(e)?e:ye(e)?e.toNumber():t}var Fn=function(){return Fn=Yt.create,Yt},Oi=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],zi=te("typed",Oi,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=Fn();return o.clear(),o.addTypes([{name:"number",test:De},{name:"Complex",test:Dn},{name:"BigNumber",test:ye},{name:"bigint",test:Ju},{name:"Fraction",test:pn},{name:"Unit",test:dn},{name:"identifier",test:a=>ke&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:ke},{name:"Chain",test:Ai},{name:"Array",test:_e},{name:"Matrix",test:we},{name:"DenseMatrix",test:Yu},{name:"SparseMatrix",test:Xu},{name:"Range",test:ju},{name:"Index",test:wr},{name:"boolean",test:Ku},{name:"ResultSet",test:Qu},{name:"Help",test:ku},{name:"function",test:ei},{name:"Date",test:ti},{name:"RegExp",test:ri},{name:"null",test:ui},{name:"undefined",test:ii},{name:"AccessorNode",test:oi},{name:"ArrayNode",test:si},{name:"AssignmentNode",test:ai},{name:"BlockNode",test:fi},{name:"ConditionalNode",test:ci},{name:"ConstantNode",test:li},{name:"FunctionNode",test:Di},{name:"FunctionAssignmentNode",test:hi},{name:"IndexNode",test:pi},{name:"Node",test:di},{name:"ObjectNode",test:gi},{name:"OperatorNode",test:mi},{name:"ParenthesisNode",test:vi},{name:"RangeNode",test:Fi},{name:"RelationalNode",test:wi},{name:"SymbolNode",test:Ei},{name:"Map",test:ni},{name:"Object",test:Er}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(r||qt(f),Ii(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new r(f)}},{from:"number",to:"Complex",convert:function(f){return n||$t(f),new n(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return n||$t(f),new n(f.toNumber(),0)}},{from:"bigint",to:"number",convert:function(f){if(f>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+f+")");return Number(f)}},{from:"bigint",to:"BigNumber",convert:function(f){return r||qt(f),new r(f.toString())}},{from:"bigint",to:"Fraction",convert:function(f){return i||Ut(f),new i(f)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||$t(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){i||Ut(f);var l=new i(f);if(l.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(f){var l=Number(f);if(isNaN(l))throw new Error('Cannot convert "'+f+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(f){r||qt(f);try{return new r(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(f){try{return BigInt(f)}catch{throw new Error('Cannot convert "'+f+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(f){i||Ut(f);try{return new i(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||$t(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return r||qt(f),new r(+f)}},{from:"boolean",to:"bigint",convert:function(f){return BigInt(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return i||Ut(f),new i(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return u||Pi(),new u(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),o.onMismatch=(a,f,l)=>{var s=o.createError(a,f,l);if(["wrongType","mismatch"].includes(s.data.category)&&f.length===1&&Gt(f[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o.onMismatch=(a,f,l)=>{var s=o.createError(a,f,l);if(["wrongType","mismatch"].includes(s.data.category)&&f.length===1&&Gt(f[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o});function qt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function $t(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Pi(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ut(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var wt=9e15,ct=1e9,Dr="0123456789abcdef",jt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Kt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-wt,maxE:wt,crypto:!1},wn,ut,Q=!0,nr="[DecimalError] ",ft=nr+"Invalid argument: ",En=nr+"Precision limit exceeded",An=nr+"crypto unavailable",Cn="[object Decimal]",ze=Math.floor,be=Math.pow,Ri=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qi=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$i=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,yn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qe=1e7,j=7,Ui=9007199254740991,Li=jt.length-1,dr=Kt.length-1,I={toStringTag:Cn};I.absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),W(e)};I.ceil=function(){return W(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(ft+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};I.comparedTo=I.cmp=function(e){var t,r,n,u,i=this,o=i.d,a=(e=new i.constructor(e)).d,f=i.s,l=e.s;if(!o||!a)return!f||!l?NaN:f!==l?f:o===a?0:!o^f<0?1:-1;if(!o[0]||!a[0])return o[0]?f:a[0]?-l:0;if(f!==l)return f;if(i.e!==e.e)return i.e>e.e^f<0?1:-1;for(n=o.length,u=a.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^f<0?1:-1;return n===u?0:n>u^f<0?1:-1};I.cosine=I.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+j,n.rounding=1,r=Zi(n,Mn(n,r)),n.precision=e,n.rounding=t,W(ut==2||ut==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};I.cubeRoot=I.cbrt=function(){var e,t,r,n,u,i,o,a,f,l,s=this,h=s.constructor;if(!s.isFinite()||s.isZero())return new h(s);for(Q=!1,i=s.s*be(s.s*s,1/3),!i||Math.abs(i)==1/0?(r=Ie(s.d),e=s.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=be(r,1/3),e=ze((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new h(r),n.s=s.s):n=new h(i.toString()),o=(e=h.precision)+3;;)if(a=n,f=a.times(a).times(a),l=f.plus(s),n=ce(l.plus(s).times(a),l.plus(f),o+2,1),Ie(a.d).slice(0,o)===(r=Ie(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(W(a,e+1,0),a.times(a).times(a).eq(s))){n=a;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(W(n,e+1,1),t=!n.times(n).times(n).eq(s));break}return Q=!0,W(n,e,h.rounding,t)};I.decimalPlaces=I.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-ze(this.e/j))*j,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};I.dividedBy=I.div=function(e){return ce(this,new this.constructor(e))};I.dividedToIntegerBy=I.divToInt=function(e){var t=this,r=t.constructor;return W(ce(t,new r(e),0,1,1),r.precision,r.rounding)};I.equals=I.eq=function(e){return this.cmp(e)===0};I.floor=function(){return W(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(e){return this.cmp(e)>0};I.greaterThanOrEqualTo=I.gte=function(e){var t=this.cmp(e);return t==1||t===0};I.hyperbolicCosine=I.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/ir(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Bt(o,1,i.times(t),new o(1),!0);for(var f,l=e,s=new o(8);l--;)f=i.times(i),i=a.minus(f.times(s.minus(f.times(s))));return W(i,o.precision=r,o.rounding=n,!0)};I.hyperbolicSine=I.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=Bt(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/ir(5,e)),u=Bt(i,2,u,u,!0);for(var o,a=new i(5),f=new i(16),l=new i(20);e--;)o=u.times(u),u=u.times(a.plus(o.times(f.times(o).plus(l))))}return i.precision=t,i.rounding=r,W(u,t,r,!0)};I.hyperbolicTangent=I.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,ce(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};I.inverseCosine=I.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),u=r.precision,i=r.rounding;return n!==-1?n===0?t.isNeg()?Ke(r,u,i):new r(0):new r(NaN):t.isZero()?Ke(r,u+4,i).times(.5):(r.precision=u+6,r.rounding=1,t=t.asin(),e=Ke(r,u+4,i).times(.5),r.precision=u,r.rounding=i,e.minus(t))};I.inverseHyperbolicCosine=I.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Q=!1,r=r.times(r).minus(1).sqrt().plus(r),Q=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};I.inverseHyperbolicSine=I.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Q=!1,r=r.times(r).plus(1).sqrt().plus(r),Q=!0,n.precision=e,n.rounding=t,r.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?W(new i(u),e,t,!0):(i.precision=r=n-u.e,u=ce(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};I.inverseSine=I.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Ke(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};I.inverseTangent=I.atan=function(){var e,t,r,n,u,i,o,a,f,l=this,s=l.constructor,h=s.precision,D=s.rounding;if(l.isFinite()){if(l.isZero())return new s(l);if(l.abs().eq(1)&&h+4<=dr)return o=Ke(s,h+4,D).times(.25),o.s=l.s,o}else{if(!l.s)return new s(NaN);if(h+4<=dr)return o=Ke(s,h+4,D).times(.5),o.s=l.s,o}for(s.precision=a=h+10,s.rounding=1,r=Math.min(28,a/j+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Q=!1,t=Math.ceil(a/j),n=1,f=l.times(l),o=new s(l),u=l;e!==-1;)if(u=u.times(f),i=o.minus(u.div(n+=2)),u=u.times(f),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),Q=!0,W(o,s.precision=h,s.rounding=D,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&ze(this.e/j)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(e){return this.cmp(e)<0};I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1};I.logarithm=I.log=function(e){var t,r,n,u,i,o,a,f,l=this,s=l.constructor,h=s.precision,D=s.rounding,w=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new s(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(Q=!1,a=h+w,o=st(l,a),n=t?Qt(s,a+10):st(e,a),f=ce(o,n,a,1),Ot(f.d,u=h,D))do if(a+=10,o=st(l,a),n=t?Qt(s,a+10):st(e,a),f=ce(o,n,a,1),!i){+Ie(f.d).slice(u+1,u+15)+1==1e14&&(f=W(f,h+1,0));break}while(Ot(f.d,u+=10,D));return Q=!0,W(f,h,D)};I.minus=I.sub=function(e){var t,r,n,u,i,o,a,f,l,s,h,D,w=this,C=w.constructor;if(e=new C(e),!w.d||!e.d)return!w.s||!e.s?e=new C(NaN):w.d?e.s=-e.s:e=new C(e.d||w.s!==e.s?w:NaN),e;if(w.s!=e.s)return e.s=-e.s,w.plus(e);if(l=w.d,D=e.d,a=C.precision,f=C.rounding,!l[0]||!D[0]){if(D[0])e.s=-e.s;else if(l[0])e=new C(w);else return new C(f===3?-0:0);return Q?W(e,a,f):e}if(r=ze(e.e/j),s=ze(w.e/j),l=l.slice(),i=s-r,i){for(h=i<0,h?(t=l,i=-i,o=D.length):(t=D,r=s,o=l.length),n=Math.max(Math.ceil(a/j),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=D.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(l[n]!=D[n]){h=l[n]<D[n];break}i=0}for(h&&(t=l,l=D,D=t,e.s=-e.s),o=l.length,n=D.length-o;n>0;--n)l[o++]=0;for(n=D.length;n>i;){if(l[--n]<D[n]){for(u=n;u&&l[--u]===0;)l[u]=Qe-1;--l[u],l[n]+=Qe}l[n]-=D[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=ur(l,r),Q?W(e,a,f):e):new C(f===3?-0:0)};I.modulo=I.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?W(new n(r),n.precision,n.rounding):(Q=!1,n.modulo==9?(t=ce(r,e.abs(),0,3,1),t.s*=e.s):t=ce(r,e,0,n.modulo,1),t=t.times(e),Q=!0,r.minus(t))};I.naturalExponential=I.exp=function(){return gr(this)};I.naturalLogarithm=I.ln=function(){return st(this)};I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s,W(e)};I.plus=I.add=function(e){var t,r,n,u,i,o,a,f,l,s,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return!h.s||!e.s?e=new D(NaN):h.d||(e=new D(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,s=e.d,a=D.precision,f=D.rounding,!l[0]||!s[0])return s[0]||(e=new D(h)),Q?W(e,a,f):e;if(i=ze(h.e/j),n=ze(e.e/j),l=l.slice(),u=i-n,u){for(u<0?(r=l,u=-u,o=s.length):(r=s,n=i,o=l.length),i=Math.ceil(a/j),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=l.length,u=s.length,o-u<0&&(u=o,r=s,s=l,l=r),t=0;u;)t=(l[--u]=l[u]+s[u]+t)/Qe|0,l[u]%=Qe;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=ur(l,n),Q?W(e,a,f):e};I.precision=I.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ft+e);return r.d?(t=Bn(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};I.round=function(){var e=this,t=e.constructor;return W(new t(e),e.e+1,t.rounding)};I.sine=I.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+j,n.rounding=1,r=Hi(n,Mn(n,r)),n.precision=e,n.rounding=t,W(ut>2?r.neg():r,e,t,!0)):new n(NaN)};I.squareRoot=I.sqrt=function(){var e,t,r,n,u,i,o=this,a=o.d,f=o.e,l=o.s,s=o.constructor;if(l!==1||!a||!a[0])return new s(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(Q=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=Ie(a),(t.length+f)%2==0&&(t+="0"),l=Math.sqrt(t),f=ze((f+1)/2)-(f<0||f%2),l==1/0?t="5e"+f:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+f),n=new s(t)):n=new s(l.toString()),r=(f=s.precision)+3;;)if(i=n,n=i.plus(ce(o,i,r+2,1)).times(.5),Ie(i.d).slice(0,r)===(t=Ie(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(W(i,f+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(W(n,f+1,1),e=!n.times(n).eq(o));break}return Q=!0,W(n,f,s.rounding,e)};I.tangent=I.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=ce(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,W(ut==2||ut==4?r.neg():r,e,t,!0)):new n(NaN)};I.times=I.mul=function(e){var t,r,n,u,i,o,a,f,l,s=this,h=s.constructor,D=s.d,w=(e=new h(e)).d;if(e.s*=s.s,!D||!D[0]||!w||!w[0])return new h(!e.s||D&&!D[0]&&!w||w&&!w[0]&&!D?NaN:!D||!w?e.s/0:e.s*0);for(r=ze(s.e/j)+ze(e.e/j),f=D.length,l=w.length,f<l&&(i=D,D=w,w=i,o=f,f=l,l=o),i=[],o=f+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,u=f+n;u>n;)a=i[u]+w[n]*D[u-n-1]+t,i[u--]=a%Qe|0,t=a/Qe|0;i[u]=(i[u]+t)%Qe|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=ur(i,r),Q?W(e,h.precision,h.rounding):e};I.toBinary=function(e,t){return Ar(this,2,e,t)};I.toDecimalPlaces=I.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ze(e,0,ct),t===void 0?t=n.rounding:Ze(t,0,8),W(r,e+r.e+1,t))};I.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=et(n,!0):(Ze(e,0,ct),t===void 0?t=u.rounding:Ze(t,0,8),n=W(new u(n),e+1,t),r=et(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=et(u):(Ze(e,0,ct),t===void 0?t=i.rounding:Ze(t,0,8),n=W(new i(u),e+u.e+1,t),r=et(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};I.toFraction=function(e){var t,r,n,u,i,o,a,f,l,s,h,D,w=this,C=w.d,c=w.constructor;if(!C)return new c(w);if(l=r=new c(1),n=f=new c(0),t=new c(n),i=t.e=Bn(C)-w.e-1,o=i%j,t.d[0]=be(10,o<0?j+o:o),e==null)e=i>0?t:l;else{if(a=new c(e),!a.isInt()||a.lt(l))throw Error(ft+a);e=a.gt(t)?i>0?t:l:a}for(Q=!1,a=new c(Ie(C)),s=c.precision,c.precision=i=C.length*j*2;h=ce(a,t,0,1,1),u=r.plus(h.times(n)),u.cmp(e)!=1;)r=n,n=u,u=l,l=f.plus(h.times(u)),f=u,u=t,t=a.minus(h.times(u)),a=u;return u=ce(e.minus(r),n,0,1,1),f=f.plus(u.times(l)),r=r.plus(u.times(n)),f.s=l.s=w.s,D=ce(l,n,i,1).minus(w).abs().cmp(ce(f,r,i,1).minus(w).abs())<1?[l,n]:[f,r],c.precision=s,Q=!0,D};I.toHexadecimal=I.toHex=function(e,t){return Ar(this,16,e,t)};I.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Ze(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(Q=!1,r=ce(r,e,0,t,1).times(e),Q=!0,W(r)):(e.s=r.s,r=e),r};I.toNumber=function(){return+this};I.toOctal=function(e,t){return Ar(this,8,e,t)};I.toPower=I.pow=function(e){var t,r,n,u,i,o,a=this,f=a.constructor,l=+(e=new f(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new f(be(+a,l));if(a=new f(a),a.eq(1))return a;if(n=f.precision,i=f.rounding,e.eq(1))return W(a,n,i);if(t=ze(e.e/j),t>=e.d.length-1&&(r=l<0?-l:l)<=Ui)return u=_n(f,a,r,n),e.s<0?new f(1).div(u):W(u,n,i);if(o=a.s,o<0){if(t<e.d.length-1)return new f(NaN);if((e.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=be(+a,l),t=r==0||!isFinite(r)?ze(l*(Math.log("0."+Ie(a.d))/Math.LN10+a.e+1)):new f(r+"").e,t>f.maxE+1||t<f.minE-1?new f(t>0?o/0:0):(Q=!1,f.rounding=a.s=1,r=Math.min(12,(t+"").length),u=gr(e.times(st(a,n+r)),n),u.d&&(u=W(u,n+5,1),Ot(u.d,n,i)&&(t=n+10,u=W(gr(e.times(st(a,t+r)),t),t+5,1),+Ie(u.d).slice(n+1,n+15)+1==1e14&&(u=W(u,n+1,0)))),u.s=o,Q=!0,f.rounding=i,W(u,n,i))};I.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=et(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Ze(e,1,ct),t===void 0?t=u.rounding:Ze(t,0,8),n=W(new u(n),e,t),r=et(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toSignificantDigits=I.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ze(e,1,ct),t===void 0?t=n.rounding:Ze(t,0,8)),W(new n(r),e,t)};I.toString=function(){var e=this,t=e.constructor,r=et(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};I.truncated=I.trunc=function(){return W(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var e=this,t=e.constructor,r=et(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Ie(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=j-n.length,r&&(i+=ot(r)),i+=n;o=e[t],n=o+"",r=j-n.length,r&&(i+=ot(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Ze(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ft+e)}function Ot(e,t,r,n){var u,i,o,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=j,u=0):(u=Math.ceil((t+1)/j),t%=j),i=be(10,j-t),a=e[u]%i|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==i||r>3&&a+1==i/2)&&(e[u+1]/i/100|0)==be(10,t-2)-1||(a==i/2||a==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==i||!n&&r>3&&a+1==i/2)&&(e[u+1]/i/1e3|0)==be(10,t-3)-1,o}function Zt(e,t,r){for(var n,u=[0],i,o=0,a=e.length;o<a;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=Dr.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function Zi(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/ir(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=Bt(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var ce=(function(){function e(n,u,i){var o,a=0,f=n.length;for(n=n.slice();f--;)o=n[f]*u+a,n[f]=o%i|0,a=o/i|0;return a&&n.unshift(a),n}function t(n,u,i,o){var a,f;if(i!=o)f=i>o?1:-1;else for(a=f=0;a<i;a++)if(n[a]!=u[a]){f=n[a]>u[a]?1:-1;break}return f}function r(n,u,i,o){for(var a=0;i--;)n[i]-=a,a=n[i]<u[i]?1:0,n[i]=a*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,a,f){var l,s,h,D,w,C,c,g,F,y,v,B,m,d,A,_,N,T,O,Z,G=n.constructor,J=n.s==u.s?1:-1,V=n.d,q=u.d;if(!V||!V[0]||!q||!q[0])return new G(!n.s||!u.s||(V?q&&V[0]==q[0]:!q)?NaN:V&&V[0]==0||!q?J*0:J/0);for(f?(w=1,s=n.e-u.e):(f=Qe,w=j,s=ze(n.e/w)-ze(u.e/w)),O=q.length,N=V.length,F=new G(J),y=F.d=[],h=0;q[h]==(V[h]||0);h++);if(q[h]>(V[h]||0)&&s--,i==null?(d=i=G.precision,o=G.rounding):a?d=i+(n.e-u.e)+1:d=i,d<0)y.push(1),C=!0;else{if(d=d/w+2|0,h=0,O==1){for(D=0,q=q[0],d++;(h<N||D)&&d--;h++)A=D*f+(V[h]||0),y[h]=A/q|0,D=A%q|0;C=D||h<N}else{for(D=f/(q[0]+1)|0,D>1&&(q=e(q,D,f),V=e(V,D,f),O=q.length,N=V.length),_=O,v=V.slice(0,O),B=v.length;B<O;)v[B++]=0;Z=q.slice(),Z.unshift(0),T=q[0],q[1]>=f/2&&++T;do D=0,l=t(q,v,O,B),l<0?(m=v[0],O!=B&&(m=m*f+(v[1]||0)),D=m/T|0,D>1?(D>=f&&(D=f-1),c=e(q,D,f),g=c.length,B=v.length,l=t(c,v,g,B),l==1&&(D--,r(c,O<g?Z:q,g,f))):(D==0&&(l=D=1),c=q.slice()),g=c.length,g<B&&c.unshift(0),r(v,c,B,f),l==-1&&(B=v.length,l=t(q,v,O,B),l<1&&(D++,r(v,O<B?Z:q,B,f))),B=v.length):l===0&&(D++,v=[0]),y[h++]=D,l&&v[0]?v[B++]=V[_]||0:(v=[V[_]],B=1);while((_++<N||v[0]!==void 0)&&d--);C=v[0]!==void 0}y[0]||y.shift()}if(w==1)F.e=s,wn=C;else{for(h=1,D=y[0];D>=10;D/=10)h++;F.e=h+s*w-1,W(F,a?i+F.e+1:i,o,C)}return F}})();function W(e,t,r,n){var u,i,o,a,f,l,s,h,D,w=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(u=1,a=h[0];a>=10;a/=10)u++;if(i=t-u,i<0)i+=j,o=t,s=h[D=0],f=s/be(10,u-o-1)%10|0;else if(D=Math.ceil((i+1)/j),a=h.length,D>=a)if(n){for(;a++<=D;)h.push(0);s=f=0,u=1,i%=j,o=i-j+1}else break e;else{for(s=a=h[D],u=1;a>=10;a/=10)u++;i%=j,o=i-j+u,f=o<0?0:s/be(10,u-o-1)%10|0}if(n=n||t<0||h[D+1]!==void 0||(o<0?s:s%be(10,u-o-1)),l=r<4?(f||n)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||n||r==6&&(i>0?o>0?s/be(10,u-o):0:h[D-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=be(10,(j-t%j)%j),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=D,a=1,D--):(h.length=D+1,a=be(10,j-i),h[D]=o>0?(s/be(10,u-o)%be(10,o)|0)*a:0),l)for(;;)if(D==0){for(i=1,o=h[0];o>=10;o/=10)i++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(e.e++,h[0]==Qe&&(h[0]=1));break}else{if(h[D]+=a,h[D]!=Qe)break;h[D--]=0,a=1}for(i=h.length;h[--i]===0;)h.pop()}return Q&&(e.e>w.maxE?(e.d=null,e.e=NaN):e.e<w.minE&&(e.e=0,e.d=[0])),e}function et(e,t,r){if(!e.isFinite())return Nn(e);var n,u=e.e,i=Ie(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ot(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+ot(-u-1)+i,r&&(n=r-o)>0&&(i+=ot(n))):u>=o?(i+=ot(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+ot(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=ot(n))),i}function ur(e,t){var r=e[0];for(t*=j;r>=10;r/=10)t++;return t}function Qt(e,t,r){if(t>Li)throw Q=!0,r&&(e.precision=r),Error(En);return W(new e(jt),t,1,!0)}function Ke(e,t,r){if(t>dr)throw Error(En);return W(new e(Kt),t,r,!0)}function Bn(e){var t=e.length-1,r=t*j+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function ot(e){for(var t="";e--;)t+="0";return t}function _n(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/j+4);for(Q=!1;;){if(r%2&&(i=i.times(t),$r(i.d,o)&&(u=!0)),r=ze(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),$r(t.d,o)}return Q=!0,i}function qr(e){return e.d[e.d.length-1]&1}function bn(e,t,r){for(var n,u=new e(t[0]),i=0;++i<t.length;)if(n=new e(t[i]),n.s)u[r](n)&&(u=n);else{u=n;break}return u}function gr(e,t){var r,n,u,i,o,a,f,l=0,s=0,h=0,D=e.constructor,w=D.rounding,C=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Q=!1,f=C):f=t,a=new D(.03125);e.e>-2;)e=e.times(a),h+=5;for(n=Math.log(be(2,h))/Math.LN10*2+5|0,f+=n,r=i=o=new D(1),D.precision=f;;){if(i=W(i.times(e),f,1),r=r.times(++s),a=o.plus(ce(i,r,f,1)),Ie(a.d).slice(0,f)===Ie(o.d).slice(0,f)){for(u=h;u--;)o=W(o.times(o),f,1);if(t==null)if(l<3&&Ot(o.d,f-n,w,l))D.precision=f+=10,r=i=a=new D(1),s=0,l++;else return W(o,D.precision=C,w,Q=!0);else return D.precision=C,o}o=a}}function st(e,t){var r,n,u,i,o,a,f,l,s,h,D,w=1,C=10,c=e,g=c.d,F=c.constructor,y=F.rounding,v=F.precision;if(c.s<0||!g||!g[0]||!c.e&&g[0]==1&&g.length==1)return new F(g&&!g[0]?-1/0:c.s!=1?NaN:g?0:c);if(t==null?(Q=!1,s=v):s=t,F.precision=s+=C,r=Ie(g),n=r.charAt(0),Math.abs(i=c.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)c=c.times(e),r=Ie(c.d),n=r.charAt(0),w++;i=c.e,n>1?(c=new F("0."+r),i++):c=new F(n+"."+r.slice(1))}else return l=Qt(F,s+2,v).times(i+""),c=st(new F(n+"."+r.slice(1)),s-C).plus(l),F.precision=v,t==null?W(c,v,y,Q=!0):c;for(h=c,f=o=c=ce(c.minus(1),c.plus(1),s,1),D=W(c.times(c),s,1),u=3;;){if(o=W(o.times(D),s,1),l=f.plus(ce(o,new F(u),s,1)),Ie(l.d).slice(0,s)===Ie(f.d).slice(0,s))if(f=f.times(2),i!==0&&(f=f.plus(Qt(F,s+2,v).times(i+""))),f=ce(f,new F(w),s,1),t==null)if(Ot(f.d,s-C,y,a))F.precision=s+=C,l=o=c=ce(h.minus(1),h.plus(1),s,1),D=W(c.times(c),s,1),u=a=1;else return W(f,F.precision=v,y,Q=!0);else return F.precision=v,f;f=l,u+=2}}function Nn(e){return String(e.s*e.s/0)}function mr(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%j,r<0&&(n+=j),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=j;n<u;)e.d.push(+t.slice(n,n+=j));t=t.slice(n),n=j-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),Q&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Vi(e,t){var r,n,u,i,o,a,f,l,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),yn.test(t))return mr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(qi.test(t))r=16,t=t.toLowerCase();else if(Ri.test(t))r=2;else if($i.test(t))r=8;else throw Error(ft+t);for(i=t.search(/p/i),i>0?(f=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),a=t.length,i=a-i,u=_n(n,new n(r),i,i*2)),l=Zt(t,r,Qe),s=l.length-1,i=s;l[i]===0;--i)l.pop();return i<0?new n(e.s*0):(e.e=ur(l,s),e.d=l,Q=!1,o&&(e=ce(e,u,a*4)),f&&(e=e.times(Math.abs(f)<54?be(2,f):_t.pow(2,f))),Q=!0,e)}function Hi(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Bt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/ir(5,r)),t=Bt(e,2,t,t);for(var u,i=new e(5),o=new e(16),a=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(a))));return t}function Bt(e,t,r,n,u){var i,o,a,f,l=e.precision,s=Math.ceil(l/j);for(Q=!1,f=r.times(r),a=new e(n);;){if(o=ce(a.times(f),new e(t++*t++),l,1),a=u?n.plus(o):n.minus(o),n=ce(o.times(f),new e(t++*t++),l,1),o=a.plus(n),o.d[s]!==void 0){for(i=s;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=n,n=o,o=i}return Q=!0,o.d.length=s+1,o}function ir(e,t){for(var r=e;--t;)r*=e;return r}function Mn(e,t){var r,n=t.s<0,u=Ke(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return ut=n?4:1,t;if(r=t.divToInt(u),r.isZero())ut=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return ut=qr(r)?n?2:3:n?4:1,t;ut=qr(r)?n?1:4:n?3:2}return t.minus(u).abs()}function Ar(e,t,r,n){var u,i,o,a,f,l,s,h,D,w=e.constructor,C=r!==void 0;if(C?(Ze(r,1,ct),n===void 0?n=w.rounding:Ze(n,0,8)):(r=w.precision,n=w.rounding),!e.isFinite())s=Nn(e);else{for(s=et(e),o=s.indexOf("."),C?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(s=s.replace(".",""),D=new w(1),D.e=s.length-o,D.d=Zt(et(D),10,u),D.e=D.d.length),h=Zt(s,10,u),i=f=h.length;h[--f]==0;)h.pop();if(!h[0])s=C?"0p+0":"0";else{if(o<0?i--:(e=new w(e),e.d=h,e.e=i,e=ce(e,D,r,n,0,u),h=e.d,i=e.e,l=wn),o=h[r],a=u/2,l=l||h[r+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(e.s<0?3:2)):o>a||o===a&&(n===4||l||n===6&&h[r-1]&1||n===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>u-1;)h[r]=0,r||(++i,h.unshift(1));for(f=h.length;!h[f-1];--f);for(o=0,s="";o<f;o++)s+=Dr.charAt(h[o]);if(C){if(f>1)if(t==16||t==8){for(o=t==16?4:3,--f;f%o;f++)s+="0";for(h=Zt(s,u,t),f=h.length;!h[f-1];--f);for(o=1,s="1.";o<f;o++)s+=Dr.charAt(h[o])}else s=s.charAt(0)+"."+s.slice(1);s=s+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(++i>f)for(i-=f;i--;)s+="0";else i<f&&(s=s.slice(0,i)+"."+s.slice(i))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function $r(e,t){if(e.length>t)return e.length=t,!0}function Wi(e){return new this(e).abs()}function Gi(e){return new this(e).acos()}function Ji(e){return new this(e).acosh()}function Yi(e,t){return new this(e).plus(t)}function Xi(e){return new this(e).asin()}function ji(e){return new this(e).asinh()}function Ki(e){return new this(e).atan()}function Qi(e){return new this(e).atanh()}function ki(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Ke(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Ke(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Ke(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(ce(e,t,i,1)),t=Ke(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(ce(e,t,i,1)),r}function eo(e){return new this(e).cbrt()}function to(e){return W(e=new this(e),e.e+1,2)}function ro(e,t,r){return new this(e).clamp(t,r)}function no(e){if(!e||typeof e!="object")throw Error(nr+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,ct,"rounding",0,8,"toExpNeg",-wt,0,"toExpPos",0,wt,"maxE",0,wt,"minE",-wt,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=pr[r]),(n=e[r])!==void 0)if(ze(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ft+r+": "+n);if(r="crypto",u&&(this[r]=pr[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(An);else this[r]=!1;else throw Error(ft+r+": "+n);return this}function uo(e){return new this(e).cos()}function io(e){return new this(e).cosh()}function Sn(e){var t,r,n;function u(i){var o,a,f,l=this;if(!(l instanceof u))return new u(i);if(l.constructor=u,Ur(i)){l.s=i.s,Q?!i.d||i.e>u.maxE?(l.e=NaN,l.d=null):i.e<u.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(f=typeof i,f==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;Q?o>u.maxE?(l.e=NaN,l.d=null):o<u.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[i]):(l.e=o,l.d=[i]);return}else if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return mr(l,i.toString())}else if(f!=="string")throw Error(ft+i);return(a=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(a===43&&(i=i.slice(1)),l.s=1),yn.test(i)?mr(l,i):Vi(l,i)}if(u.prototype=I,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=no,u.clone=Sn,u.isDecimal=Ur,u.abs=Wi,u.acos=Gi,u.acosh=Ji,u.add=Yi,u.asin=Xi,u.asinh=ji,u.atan=Ki,u.atanh=Qi,u.atan2=ki,u.cbrt=eo,u.ceil=to,u.clamp=ro,u.cos=uo,u.cosh=io,u.div=oo,u.exp=so,u.floor=ao,u.hypot=fo,u.ln=co,u.log=lo,u.log10=Do,u.log2=ho,u.max=po,u.min=go,u.mod=mo,u.mul=vo,u.pow=Fo,u.random=wo,u.round=Eo,u.sign=Ao,u.sin=Co,u.sinh=yo,u.sqrt=Bo,u.sub=_o,u.sum=bo,u.tan=No,u.tanh=Mo,u.trunc=So,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function oo(e,t){return new this(e).div(t)}function so(e){return new this(e).exp()}function ao(e){return W(e=new this(e),e.e+1,3)}function fo(){var e,t,r=new this(0);for(Q=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return Q=!0,new this(1/0);r=t}return Q=!0,r.sqrt()}function Ur(e){return e instanceof _t||e&&e.toStringTag===Cn||!1}function co(e){return new this(e).ln()}function lo(e,t){return new this(e).log(t)}function ho(e){return new this(e).log(2)}function Do(e){return new this(e).log(10)}function po(){return bn(this,arguments,"lt")}function go(){return bn(this,arguments,"gt")}function mo(e,t){return new this(e).mod(t)}function vo(e,t){return new this(e).mul(t)}function Fo(e,t){return new this(e).pow(t)}function wo(e){var t,r,n,u,i=0,o=new this(1),a=[];if(e===void 0?e=this.precision:Ze(e,1,ct),n=Math.ceil(e/j),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(u%1e7),i+=4);i=n/4}else throw Error(An);else for(;i<n;)a[i++]=Math.random()*1e7|0;for(n=a[--i],e%=j,n&&e&&(u=be(10,j-e),a[i]=(n/u|0)*u);a[i]===0;i--)a.pop();if(i<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=j)a.shift();for(n=1,u=a[0];u>=10;u/=10)n++;n<j&&(r-=j-n)}return o.e=r,o.d=a,o}function Eo(e){return W(e=new this(e),e.e+1,this.rounding)}function Ao(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Co(e){return new this(e).sin()}function yo(e){return new this(e).sinh()}function Bo(e){return new this(e).sqrt()}function _o(e,t){return new this(e).sub(t)}function bo(){var e=0,t=arguments,r=new this(t[e]);for(Q=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return Q=!0,W(r,this.precision,this.rounding)}function No(e){return new this(e).tan()}function Mo(e){return new this(e).tanh()}function So(e){return W(e=new this(e),e.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var _t=I.constructor=Sn(pr);jt=new _t(jt);Kt=new _t(Kt);var To="BigNumber",xo=["?on","config"],Io=te(To,xo,e=>{var{on:t,config:r}=e,n=_t.clone({precision:r.precision,modulo:_t.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const Oe=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ge=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Oo=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},ar=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},vt=function(){throw SyntaxError("Invalid Param")};function fr(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const zo={re:0,im:0},lt=function(e,t){const r=zo;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return M.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return M.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):vt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&vt();for(let o=0;o<n.length;o++){const a=n[o];a===" "||a==="	"||a===`
`||(a==="+"?u++:a==="-"?i++:a==="i"||a==="I"?(u+i===0&&vt(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(a))&&vt(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+a),o++):r.re+=parseFloat((i%2?"-":"")+a),u=i=0))}u+i>0&&vt();break;case"number":r.im=0,r.re=e;break;default:vt()}return isNaN(r.re)||isNaN(r.im),r};function M(e,t){if(!(this instanceof M))return new M(e,t);const r=lt(e,t);this.re=r.re,this.im=r.im}M.prototype={re:0,im:0,sign:function(){const e=ar(this.re,this.im);return new M(this.re/e,this.im/e)},add:function(e,t){const r=lt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=lt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=lt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?M.NAN:n||u?M.INFINITY:r.im===0&&this.im===0?new M(this.re*r.re,0):new M(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=lt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return M.NAN;if(o||n)return M.INFINITY;if(i||u)return M.ZERO;if(r.im===0)return new M(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const a=r.re/r.im,f=r.re*a+r.im;return new M((this.re*a+this.im)/f,(this.im*a-this.re)/f)}else{const a=r.im/r.re,f=r.im*a+r.re;return new M((this.re+this.im*a)/f,(this.im-this.re*a)/f)}},pow:function(e,t){const r=lt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return M.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new M(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new M(Math.pow(this.im,r.re),0);case 1:return new M(0,Math.pow(this.im,r.re));case 2:return new M(-Math.pow(this.im,r.re),0);case 3:return new M(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return M.ZERO;const i=Math.atan2(this.im,this.re),o=fr(this.re,this.im);let a=Math.exp(r.re*o-r.im*i),f=r.im*o+r.re*i;return new M(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new M(Math.sqrt(e),0):new M(0,Math.sqrt(-e));const r=ar(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new M(n,t<0?-u:u):new M(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new M(e,0):new M(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new M(Math.expm1(e)*Math.cos(t)+Oo(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new M(Math.log(e),0):new M(fr(e,t),Math.atan2(t,e))},abs:function(){return ar(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new M(Math.sin(e)*Oe(t),Math.cos(e)*Ge(t))},cos:function(){const e=this.re,t=this.im;return new M(Math.cos(e)*Oe(t),-Math.sin(e)*Ge(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Oe(t);return new M(Math.sin(e)/r,Ge(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Oe(t);return new M(-Math.sin(e)/r,Ge(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Oe(2*t)+.5*Math.cos(2*e);return new M(Math.cos(e)*Oe(t)/r,Math.sin(e)*Ge(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Oe(2*t)-.5*Math.cos(2*e);return new M(Math.sin(e)*Oe(t)/r,-Math.cos(e)*Ge(t)/r)},asin:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new M(0,1/0);if(t===-1)return new M(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new M((1-t*t-e*e)/r,-2*e/r).log();return new M(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new M(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atan():new M(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acos():new M(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asin():new M(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new M(Ge(e)*Math.cos(t),Oe(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new M(Oe(e)*Math.cos(t),Ge(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Oe(e)+Math.cos(t);return new M(Ge(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Oe(e)-Math.cos(t);return new M(Ge(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Oe(2*e);return new M(-2*Ge(e)*Math.cos(t)/r,2*Oe(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Oe(2*e);return new M(2*Oe(e)*Math.cos(t)/r,-2*Ge(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new M((u*n-t*t)/i,(t*n+u*t)/i):new M(e!==-1?e/0:0,t!==0?t/0:0),a=o.re;return o.re=fr(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,Math.PI/2);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atanh():new M(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new M(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asinh():new M(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return M.INFINITY;const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acosh():new M(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new M(e/r,-t/r)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new M(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new M(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new M(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=lt(e,t);return Math.abs(r.re-this.re)<=M.EPSILON&&Math.abs(r.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<M.EPSILON&&(e=0),Math.abs(t)<M.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};M.ZERO=new M(0,0);M.ONE=new M(1,0);M.I=new M(0,1);M.PI=new M(Math.PI,0);M.E=new M(Math.E,0);M.INFINITY=new M(1/0,1/0);M.NAN=new M(NaN,NaN);M.EPSILON=1e-15;var Po="Complex",Ro=[],qo=te(Po,Ro,()=>(Object.defineProperty(M,"name",{value:"Complex"}),M.prototype.constructor=M,M.prototype.type="Complex",M.prototype.isComplex=!0,M.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},M.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},M.prototype.format=function(e){var t="",r=this.im,n=this.re,u=hr(this.re,e),i=hr(this.im,e),o=De(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(n/r)<a&&(n=0),Math.abs(r/n)<a&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},M.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return M(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(De(r)){if(dn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),De(n))return new M({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},M.prototype.valueOf=M.prototype.toString,M.fromJSON=function(e){return new M(e)},M.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},M),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const H=BigInt(0),ee=BigInt(1),Te=BigInt(2),Tt=BigInt(3),Et=BigInt(5),Ue=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const $o=2e3,$={s:ee,n:H,d:ee};function nt(e,t){try{e=BigInt(e)}catch{throw it()}return e*t}function je(e){return typeof e=="bigint"?e:Math.floor(e)}function pe(e,t){if(t===H)throw Cr();const r=Object.create(Je.prototype);r.s=e<H?-ee:ee,e=e<H?-e:e;const n=ht(e,t);return r.n=e/n,r.d=t/n,r}const Uo=[Te*Te,Te,Te*Te,Te,Te*Te,Te*Tt,Te,Te*Tt];function Ft(e){const t=Object.create(null);if(e<=ee)return t[e]=ee,t;const r=n=>{t[n]=(t[n]||H)+ee};for(;e%Te===H;)r(Te),e/=Te;for(;e%Tt===H;)r(Tt),e/=Tt;for(;e%Et===H;)r(Et),e/=Et;for(let n=0,u=Te+Et;u*u<=e;){for(;e%u===H;)r(u),e/=u;u+=Uo[n],n=n+1&7}return e>ee&&r(e),t}const Se=function(e,t){let r=H,n=ee,u=ee;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw it();if(e%1!==0)throw Lr();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw it();if(t%1!==0)throw Lr();n=BigInt(t)}u=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw it();u=r*n}else if(typeof e=="number"){if(isNaN(e))throw it();if(e<0&&(u=-ee,e=-e),e%1===0)r=BigInt(e);else{let i=1,o=0,a=1,f=1,l=1,s=1e7;for(e>=1&&(i=10**Math.floor(1+Math.log10(e)),e/=i);a<=s&&l<=s;){let h=(o+f)/(a+l);if(e===h){a+l<=s?(r=o+f,n=a+l):l>a?(r=f,n=l):(r=o,n=a);break}else e>h?(o+=f,a+=l):(f+=o,l+=a),a>s?(r=f,n=l):(r=o,n=a)}r=BigInt(r)*BigInt(i),n=BigInt(n)}}else if(typeof e=="string"){let i=0,o=H,a=H,f=H,l=ee,s=ee,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw it();if(h[i]==="-"?(u=-ee,i++):h[i]==="+"&&i++,h.length===i+1?a=nt(h[i++],u):h[i+1]==="."||h[i]==="."?(h[i]!=="."&&(o=nt(h[i++],u)),i++,(i+1===h.length||h[i+1]==="("&&h[i+3]===")"||h[i+1]==="'"&&h[i+3]==="'")&&(a=nt(h[i],u),l=Ue**BigInt(h[i].length),i++),(h[i]==="("&&h[i+2]===")"||h[i]==="'"&&h[i+2]==="'")&&(f=nt(h[i+1],u),s=Ue**BigInt(h[i+1].length)-ee,i+=3)):h[i+1]==="/"||h[i+1]===":"?(a=nt(h[i],u),l=nt(h[i+2],ee),i+=3):h[i+3]==="/"&&h[i+1]===" "&&(o=nt(h[i],u),a=nt(h[i+2],u),l=nt(h[i+4],ee),i+=5),h.length<=i)n=l*s,u=r=f+n*o+s*a;else throw it()}else if(typeof e=="bigint")r=e,u=e,n=ee;else throw it();if(n===H)throw Cr();$.s=u<H?-ee:ee,$.n=r<H?-r:r,$.d=n<H?-n:n};function Lo(e,t,r){let n=ee;for(;t>H;e=e*e%r,t>>=ee)t&ee&&(n=n*e%r);return n}function Zo(e,t){for(;t%Te===H;t/=Te);for(;t%Et===H;t/=Et);if(t===ee)return H;let r=Ue%t,n=1;for(;r!==ee;n++)if(r=r*Ue%t,n>$o)return H;return BigInt(n)}function Vo(e,t,r){let n=ee,u=Lo(Ue,r,t);for(let i=0;i<300;i++){if(n===u)return BigInt(i);n=n*Ue%t,u=u*Ue%t}return 0}function ht(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Je(e,t){if(Se(e,t),this instanceof Je)e=ht($.d,$.n),this.s=$.s,this.n=$.n/e,this.d=$.d/e;else return pe($.s*$.n,$.d)}const Cr=function(){return new Error("Division by Zero")},it=function(){return new Error("Invalid argument")},Lr=function(){return new Error("Parameters must be integer")};Je.prototype={s:ee,n:H,d:ee,abs:function(){return pe(this.n,this.d)},neg:function(){return pe(-this.s*this.n,this.d)},add:function(e,t){return Se(e,t),pe(this.s*this.n*$.d+$.s*this.d*$.n,this.d*$.d)},sub:function(e,t){return Se(e,t),pe(this.s*this.n*$.d-$.s*this.d*$.n,this.d*$.d)},mul:function(e,t){return Se(e,t),pe(this.s*$.s*this.n*$.n,this.d*$.d)},div:function(e,t){return Se(e,t),pe(this.s*$.s*this.n*$.d,this.d*$.n)},clone:function(){return pe(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return pe(this.s*this.n%this.d,ee);if(Se(e,t),H===$.n*this.d)throw Cr();return pe(this.s*($.d*this.n)%($.n*this.d),$.d*this.d)},gcd:function(e,t){return Se(e,t),pe(ht($.n,this.n)*ht($.d,this.d),$.d*this.d)},lcm:function(e,t){return Se(e,t),$.n===H&&this.n===H?pe(H,ee):pe($.n*this.n,ht($.n,this.n)*ht($.d,this.d))},inverse:function(){return pe(this.s*this.d,this.n)},pow:function(e,t){if(Se(e,t),$.d===ee)return $.s<H?pe((this.s*this.d)**$.n,this.n**$.n):pe((this.s*this.n)**$.n,this.d**$.n);if(this.s<H)return null;let r=Ft(this.n),n=Ft(this.d),u=ee,i=ee;for(let o in r)if(o!=="1"){if(o==="0"){u=H;break}if(r[o]*=$.n,r[o]%$.d===H)r[o]/=$.d;else return null;u*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=$.n,n[o]%$.d===H)n[o]/=$.d;else return null;i*=BigInt(o)**n[o]}return $.s<H?pe(i,u):pe(u,i)},log:function(e,t){if(Se(e,t),this.s<=H||$.s<=H)return null;const r=Object.create(null),n=Ft($.n),u=Ft($.d),i=Ft(this.n),o=Ft(this.d);for(const l in u)n[l]=(n[l]||H)-u[l];for(const l in o)i[l]=(i[l]||H)-o[l];for(const l in n)l!=="1"&&(r[l]=!0);for(const l in i)l!=="1"&&(r[l]=!0);let a=null,f=null;for(const l in r){const s=n[l]||H,h=i[l]||H;if(s===H){if(h!==H)return null;continue}let D=h,w=s;const C=ht(D,w);if(D/=C,w/=C,a===null&&f===null)a=D,f=w;else if(D*f!==a*w)return null}return a!==null&&f!==null?pe(a,f):null},equals:function(e,t){return Se(e,t),this.s*this.n*$.d===$.s*$.n*this.d},lt:function(e,t){return Se(e,t),this.s*this.n*$.d<$.s*$.n*this.d},lte:function(e,t){return Se(e,t),this.s*this.n*$.d<=$.s*$.n*this.d},gt:function(e,t){return Se(e,t),this.s*this.n*$.d>$.s*$.n*this.d},gte:function(e,t){return Se(e,t),this.s*this.n*$.d>=$.s*$.n*this.d},compare:function(e,t){Se(e,t);let r=this.s*this.n*$.d-$.s*$.n*this.d;return(H<r)-(r<H)},ceil:function(e){return e=Ue**BigInt(e||0),pe(je(this.s*e*this.n/this.d)+(e*this.n%this.d>H&&this.s>=H?ee:H),e)},floor:function(e){return e=Ue**BigInt(e||0),pe(je(this.s*e*this.n/this.d)-(e*this.n%this.d>H&&this.s<H?ee:H),e)},round:function(e){return e=Ue**BigInt(e||0),pe(je(this.s*e*this.n/this.d)+this.s*((this.s>=H?ee:H)+Te*(e*this.n%this.d)>this.d?ee:H),e)},roundTo:function(e,t){Se(e,t);const r=this.n*$.d,n=this.d*$.n,u=r%n;let i=je(r/n);return u+u>=n&&i++,pe(this.s*i*$.n,$.d)},divisible:function(e,t){return Se(e,t),$.n===H?!1:this.n*$.d%($.n*this.d)===H},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let t=this.n,r=this.d,n=Zo(t,r),u=Vo(t,r,n),i=this.s<H?"-":"";if(i+=je(t/r),t%=r,t*=Ue,t&&(i+="."),n){for(let o=u;o--;)i+=je(t/r),t%=r,t*=Ue;i+="(";for(let o=n;o--;)i+=je(t/r),t%=r,t*=Ue;i+=")"}else for(let o=e;t&&o--;)i+=je(t/r),t%=r,t*=Ue;return i},toFraction:function(e=!1){let t=this.n,r=this.d,n=this.s<H?"-":"";if(r===ee)n+=t;else{const u=je(t/r);e&&u>H&&(n+=u,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e=!1){let t=this.n,r=this.d,n=this.s<H?"-":"";if(r===ee)n+=t;else{const u=je(t/r);e&&u>H&&(n+=u,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d;const r=[];for(;t;){r.push(je(e/t));const n=e%t;e=t,t=n}return r},simplify:function(e=.001){const t=BigInt(Math.ceil(1/e)),r=this.abs(),n=r.toContinued();for(let u=1;u<n.length;u++){let i=pe(n[u-1],ee);for(let a=u-2;a>=0;a--)i=i.inverse().add(n[a]);let o=i.sub(r);if(o.n*t<o.d)return i.mul(this.s)}return this}};var Ho="Fraction",Wo=[],Go=te(Ho,Wo,()=>(Object.defineProperty(Je,"name",{value:"Fraction"}),Je.prototype.constructor=Je,Je.prototype.type="Fraction",Je.prototype.isFraction=!0,Je.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Je.fromJSON=function(e){return new Je(e)},Je),{isClass:!0}),Jo="Matrix",Yo=[],Xo=te(Jo,Yo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function cr(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ne(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function jo(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=mn(t);switch(r){case"fixed":return Qo(e,n);case"exponential":return Zr(e,n);case"engineering":return Ko(e,n);case"bin":return cr(e,2,u);case"oct":return cr(e,8,u);case"hex":return cr(e,16,u);case"auto":{var i=Vr(t==null?void 0:t.lowerExp,-3),o=Vr(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var a,f=e.toSignificantDigits(n),l=f.e;return l>=i&&l<o?a=f.toFixed():a=Zr(e,n),a.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],h=arguments[4];return s!=="."?s+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ko(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function Zr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Qo(e,t){return e.toFixed(t)}function Vr(e,t){return De(e)?e:ye(e)?e.toNumber():t}function Ce(e,t){var r=ko(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function ko(e,t){if(typeof e=="number")return hr(e,t);if(ye(e))return jo(e,t);if(es(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Tn(e,t);if(ke(e))return Hr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Hr(n)+": "+Ce(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Hr(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in Wr?Wr[u]:u,n++}return'"'+r+'"'}var Wr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Tn(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=Tn(e[u],t);return r+="]",r}else return Ce(e,t)}function es(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function de(e,t,r){if(!(this instanceof de))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}de.prototype=new RangeError;de.prototype.constructor=RangeError;de.prototype.name="DimensionError";de.prototype.isDimensionError=!0;function bt(e,t,r){if(!(this instanceof bt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}bt.prototype=new RangeError;bt.prototype.constructor=RangeError;bt.prototype.name="IndexError";bt.prototype.isIndexError=!0;function Le(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function xn(e,t,r){var n,u=e.length;if(u!==t[r])throw new de(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new de(t.length-1,t.length,"<");xn(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new de(t.length+1,t.length,">")}function Gr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new de(e.length,0)}else xn(e,t,0)}function me(e,t){if(e!==void 0){if(!De(e)||!Ne(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new bt(e,t)}}function vr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!De(u)||!Ne(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ce(t)+")")}),(De(e)||ye(e))&&(e=[e]);var n=r!==void 0?r:0;return Fr(e,t,0,n),e}function Fr(e,t,r,n){var u,i,o=e.length,a=t[r],f=Math.min(o,a);if(e.length=a,r<t.length-1){var l=r+1;for(u=0;u<f;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),Fr(i,t,l,n);for(u=f;u<a;u++)i=[],e[u]=i,Fr(i,t,l,n)}else{for(u=0;u<f;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=f;u<a;u++)e[u]=n}}function In(e,t){var r=rs(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new de(0,n,"!=");t=yr(t,n);var u=On(t);if(n!==u)throw new de(u,n,"!=");try{return ts(r,t)}catch(i){throw i instanceof de?new de(u,n,"!="):i}}function yr(e,t){var r=On(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=i>=0,f=t%r===0;if(a)if(f)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function On(e){return e.reduce((t,r)=>t*r,1)}function ts(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,a=0;a<o;a++)n.push(r.slice(a*i,(a+1)*i));r=n}return r}function zn(e,t,r,n){var u=n||Le(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=Pn(e,t,0);u.length<t;)u.push(1);return e}function Pn(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=Pn(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function rs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?u(e):n(e),r;function n(i){for(var o=0;o<i.length;o++){var a=i[o];Array.isArray(a)?n(a):r.push(a)}}function u(i){if(Array.isArray(i[0]))for(var o=0;o<i.length;o++)u(i[o]);else for(var a=0;a<i.length;a++)r.push(i[a])}}function Br(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var a=o?Br(i,t):t(i);if(r===void 0)r=a;else if(r!==a)return"mixed"}return r}function Rn(e,t,r,n){if(n<r){if(e.length!==t.length)throw new de(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=Rn(e[i],t[i],r,n+1);return u}else return e.concat(t)}function ns(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Rn(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function us(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var a=t[o],f=n[o],l=0;l<f;l++){var s=u-f+l;a[l]>i[s]&&(i[s]=a[l])}for(var h=0;h<t.length;h++)qn(t[h],i);return i}function qn(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function Jr(e,t){var r=Le(e);if(yt(r,t))return e;qn(r,t);var n=us(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=os(e);r.length<u&&(o=In(o,i),r=Le(o));for(var a=0;a<u;a++)r[a]<n[a]&&(o=is(o,n[a],a),r=Le(o));return o}function is(e,t,r){return ns(...Array(t).fill(e),r)}function $n(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Le(e);if(t.length!==r.length)throw new de(t.length,r.length);for(var n=0;n<t.length;n++)me(t[n],r[n]);return t.reduce((u,i)=>u[i],e)}function Yr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return i(e);var n=[];return u(e,0);function u(o,a){if(Array.isArray(o)){for(var f=o.length,l=Array(f),s=0;s<f;s++)n[a]=s,l[s]=u(o[s],a+1);return l}else return t(o,n.slice(0,a),e)}function i(o){if(Array.isArray(o)){for(var a=o.length,f=Array(a),l=0;l<a;l++)f[l]=i(o[l]);return f}else return t(o)}}function os(e){return Ht([],e)}function kt(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Yt.isTypedFunction(e)){var u;if(n)u=1;else{var i=(t.isMatrix?t.size():Le(t)).map(()=>0),o=t.isMatrix?t.get(i):$n(t,i);u=fs(e,o,i,t)}var a;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var f=ss(e,u);a=f!==void 0?f:e}else a=e;return u>=1&&u<=3?{isUnary:u===1,fn:function(){for(var s=arguments.length,h=new Array(s),D=0;D<s;D++)h[D]=arguments[D];return Xr(a,h.slice(0,u),r,e.name)}}:{isUnary:!1,fn:function(){for(var s=arguments.length,h=new Array(s),D=0;D<s;D++)h[D]=arguments[D];return Xr(a,h,r,e.name)}}}return n===void 0?{isUnary:as(e),fn:e}:{isUnary:n,fn:e}}function ss(e,t){var r=[];if(Object.entries(e.signatures).forEach(n=>{var[u,i]=n;u.split(",").length===t&&r.push(i)}),r.length===1)return r[0]}function as(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function fs(e,t,r,n){for(var u=[t,r,n],i=3;i>0;i--){var o=u.slice(0,i);if(Yt.resolve(e,o)!==null)return i}}function Xr(e,t,r,n){try{return e(...t)}catch(u){cs(u,t,r,n)}}function cs(e,t,r,n){var u;if(e instanceof TypeError&&((u=e.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(at(t[0]))),t.length>=2&&i.push("index: ".concat(at(t[1]))),t.length>=3&&i.push("array: ".concat(at(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var ls="DenseMatrix",hs=["Matrix"],Ds=te(ls,hs,e=>{var{Matrix:t}=e;function r(s,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!ke(h))throw new Error("Invalid datatype: "+h);if(we(s))s.type==="DenseMatrix"?(this._data=Fe(s._data),this._size=Fe(s._size),this._datatype=h||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=h||s._datatype);else if(s&&_e(s.data)&&_e(s.size))this._data=s.data,this._size=s.size,Gr(this._data,this._size),this._datatype=h||s.datatype;else if(_e(s))this._data=l(s),this._size=Le(this._data),Gr(this._data,this._size),this._datatype=h;else{if(s)throw new TypeError("Unsupported type of data ("+at(s)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(s,h){return new r(s,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Br(this._data,at)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(s,h){return new r(s,h)},r.prototype.subset=function(s,h,D){switch(arguments.length){case 1:return n(this,s);case 2:case 3:return i(this,s,h,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(s){return $n(this._data,s)},r.prototype.set=function(s,h,D){if(!_e(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new de(s.length,this._size.length,"<");var w,C,c,g=s.map(function(y){return y+1});f(this,g,D);var F=this._data;for(w=0,C=s.length-1;w<C;w++)c=s[w],me(c,F.length),F=F[c];return c=s[s.length-1],me(c,F.length),F[c]=h,this};function n(s,h){if(!wr(h))throw new TypeError("Invalid index");var D=h.isScalar();if(D)return s.get(h.min());var w=h.size();if(w.length!==s._size.length)throw new de(w.length,s._size.length);for(var C=h.min(),c=h.max(),g=0,F=s._size.length;g<F;g++)me(C[g],s._size[g]),me(c[g],s._size[g]);var y=new r([]),v=u(s._data,h);return y._size=v.size,y._datatype=s._datatype,y._data=v.data,y}function u(s,h){var D=h.size().length-1,w=Array(D);return{data:C(s),size:w};function C(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=h.dimension(g);return w[g]=F.size()[0],g<D?F.map(y=>(me(y,c.length),C(c[y],g+1))).valueOf():F.map(y=>(me(y,c.length),c[y])).valueOf()}}function i(s,h,D,w){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var C=h.size(),c=h.isScalar(),g;if(we(D)?(g=D.size(),D=D.valueOf()):g=Le(D),c){if(g.length!==0)throw new TypeError("Scalar expected");s.set(h.min(),D,w)}else{if(!yt(g,C))try{g.length===0?D=Jr([D],C):D=Jr(D,C),g=Le(D)}catch{}if(C.length<s._size.length)throw new de(C.length,s._size.length,"<");if(g.length<C.length){for(var F=0,y=0;C[F]===1&&g[F]===1;)F++;for(;C[F]===1;)y++,F++;D=zn(D,C.length,y,g)}if(!yt(C,g))throw new de(C,g,">");var v=h.max().map(function(B){return B+1});f(s,v,w),o(s._data,h,D)}return s}function o(s,h,D){var w=h.size().length-1;C(s,D);function C(c,g){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=h.dimension(F);F<w?y.forEach((v,B)=>{me(v,c.length),C(c[v],g[B[0]],F+1)}):y.forEach((v,B)=>{me(v,c.length),c[v]=g[B[0]]})}}r.prototype.resize=function(s,h,D){if(!Gt(s))throw new TypeError("Array or Matrix expected");var w=s.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),C=D?this.clone():this;return a(C,w,h)};function a(s,h,D){if(h.length===0){for(var w=s._data;_e(w);)w=w[0];return w}return s._size=h.slice(0),s._data=vr(s._data,s._size,D),s}r.prototype.reshape=function(s,h){var D=h?this.clone():this;D._data=In(D._data,s);var w=D._size.reduce((C,c)=>C*c);return D._size=yr(s,w),D};function f(s,h,D){for(var w=s._size.slice(0),C=!1;w.length<h.length;)w.push(0),C=!0;for(var c=0,g=h.length;c<g;c++)h[c]>w[c]&&(w[c]=h[c],C=!0);C&&a(s,w,D)}r.prototype.clone=function(){var s=new r({data:Fe(this._data),size:Fe(this._size),datatype:this._datatype});return s},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,w=D._size.length-1;if(w<0)return D.clone();var C=kt(s,D,"map",h),c=C.fn,g=D.create(void 0,D._datatype);if(g._size=D._size,h||C.isUnary)return g._data=d(D._data),g;if(w===0){for(var F=D.valueOf(),y=Array(F.length),v=0;v<F.length;v++)y[v]=c(F[v],[v],D);return g._data=y,g}var B=[];return g._data=m(D._data),g;function m(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(A.length);if(_<w)for(var T=0;T<A.length;T++)B[_]=T,N[T]=m(A[T],_+1);else for(var O=0;O<A.length;O++)B[_]=O,N[O]=c(A[O],B.slice(),D);return N}function d(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(A.length);if(_<w)for(var T=0;T<A.length;T++)N[T]=d(A[T],_+1);else for(var O=0;O<A.length;O++)N[O]=c(A[O]);return N}},r.prototype.forEach=function(s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,w=D._size.length-1;if(w<0)return;var C=kt(s,D,"map",h),c=C.fn;if(h||C.isUnary){v(D._data);return}if(w===0){for(var g=0;g<D._data.length;g++)c(D._data[g],[g],D);return}var F=[];y(D._data);function y(B){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(m<w)for(var d=0;d<B.length;d++)F[m]=d,y(B[d],m+1);else for(var A=0;A<B.length;A++)F[m]=A,c(B[A],F.slice(),D)}function v(B){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(m<w)for(var d=0;d<B.length;d++)v(B[d],m+1);else for(var A=0;A<B.length;A++)c(B[A])}},r.prototype[Symbol.iterator]=function*(){var s=this._size.length-1;if(!(s<0)){if(s===0){for(var h=0;h<this._data.length;h++)yield{value:this._data[h],index:[h]};return}for(var D=Array(s+1).fill(0),w=this._size.reduce((y,v)=>y*v,1),C=0;C<w;C++){for(var c=this._data,g=0;g<s;g++)c=c[D[g]];yield{value:c[D[s]],index:D.slice()};for(var F=s;F>=0&&(D[F]++,!(D[F]<this._size[F]));F--)D[F]=0}}},r.prototype.rows=function(){var s=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var w of D)s.push(new r([w],this._datatype));return s},r.prototype.columns=function(){var s=this,h=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var w=this._data,C=function(F){var y=w.map(v=>[v[F]]);h.push(new r(y,s._datatype))},c=0;c<D[1];c++)C(c);return h},r.prototype.toArray=function(){return Fe(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(s){return Ce(this._data,s)},r.prototype.toString=function(){return Ce(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(s){if(s){if(ye(s)&&(s=s.toNumber()),!De(s)||!Ne(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var h=s>0?s:0,D=s<0?-s:0,w=this._size[0],C=this._size[1],c=Math.min(w-D,C-h),g=[],F=0;F<c;F++)g[F]=this._data[F+D][F+h];return new r({data:g,size:[c],datatype:this._datatype})},r.diagonal=function(s,h,D,w){if(!_e(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(A){if(ye(A)&&(A=A.toNumber()),!De(A)||!Ne(A)||A<1)throw new Error("Size values must be positive integers");return A}),D){if(ye(D)&&(D=D.toNumber()),!De(D)||!Ne(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var C=D>0?D:0,c=D<0?-D:0,g=s[0],F=s[1],y=Math.min(g-c,F-C),v;if(_e(h)){if(h.length!==y)throw new Error("Invalid value array length");v=function(_){return h[_]}}else if(we(h)){var B=h.size();if(B.length!==1||B[0]!==y)throw new Error("Invalid matrix length");v=function(_){return h.get([_])}}else v=function(){return h};w||(w=ye(v(0))?v(0).mul(0):0);var m=[];if(s.length>0){m=vr(m,s,w);for(var d=0;d<y;d++)m[d+c][d+C]=v(d)}return new r({data:m,size:[g,F]})},r.fromJSON=function(s){return new r(s)},r.prototype.swapRows=function(s,h){if(!De(s)||!Ne(s)||!De(h)||!Ne(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return me(s,this._size[0]),me(h,this._size[0]),r._swapRows(s,h,this._data),this},r._swapRows=function(s,h,D){var w=D[s];D[s]=D[h],D[h]=w};function l(s){return we(s)?l(s.valueOf()):_e(s)?s.map(l):s}return r},{isClass:!0});function Dt(e,t,r){if(!r)return we(e)?e.map(u=>t(u),!1,!0):Yr(e,t,!0);var n=u=>u===0?u:t(u);return we(e)?e.map(u=>n(u),!1,!0):Yr(e,n,!0)}var Un="number",_r="number, number";function Ln(e){return Math.abs(e)}Ln.signature=Un;function Zn(e,t){return e+t}Zn.signature=_r;function Vn(e,t){return e-t}Vn.signature=_r;function Hn(e,t){return e*t}Hn.signature=_r;function Wn(e){return-e}Wn.signature=Un;function ps(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var jr="isZero",ds=["typed","equalScalar"],gs=te(jr,ds,e=>{var{typed:t,equalScalar:r}=e;return t(jr,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>u=>t.find(n,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(n=>u=>Dt(u,n))})});function ms(e,t,r,n){return Xt(e.re,t.re,r,n)&&Xt(e.im,t.im,r,n)}var vs=te("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),er="equalScalar",Fs=["typed","config"],ws=te(er,Fs,e=>{var{typed:t,config:r}=e,n=vs({typed:t});return t(er,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return Xt(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||ps(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return ms(i,o,r.relTol,r.absTol)}},n)});te(er,["typed","config"],e=>{var{typed:t,config:r}=e;return t(er,{"number, number":function(u,i){return Xt(u,i,r.relTol,r.absTol)}})});var Es="SparseMatrix",As=["typed","equalScalar","Matrix"],Cs=te(Es,As,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(c,g){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!ke(g))throw new Error("Invalid datatype: "+g);if(we(c))i(this,c,g);else if(c&&_e(c.index)&&_e(c.ptr)&&_e(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=g||c.datatype;else if(_e(c))o(this,c,g);else{if(c)throw new TypeError("Unsupported type of data ("+at(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function i(c,g,F){g.type==="SparseMatrix"?(c._values=g._values?Fe(g._values):void 0,c._index=Fe(g._index),c._ptr=Fe(g._ptr),c._size=Fe(g._size),c._datatype=F||g._datatype):o(c,g.valueOf(),F||g._datatype)}function o(c,g,F){c._values=[],c._index=[],c._ptr=[],c._datatype=F;var y=g.length,v=0,B=r,m=0;if(ke(F)&&(B=t.find(r,[F,F])||r,m=t.convert(0,F)),y>0){var d=0;do{c._ptr.push(c._index.length);for(var A=0;A<y;A++){var _=g[A];if(_e(_)){if(d===0&&v<_.length&&(v=_.length),d<_.length){var N=_[d];B(N,m)||(c._values.push(N),c._index.push(A))}}else d===0&&v<1&&(v=1),B(_,m)||(c._values.push(_),c._index.push(A))}d++}while(d<v)}c._ptr.push(c._index.length),c._size=[y,v]}u.prototype=new n,u.prototype.createSparseMatrix=function(c,g){return new u(c,g)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Br(this._values,at)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(c,g){return new u(c,g)},u.prototype.density=function(){var c=this._size[0],g=this._size[1];return c!==0&&g!==0?this._index.length/(c*g):0},u.prototype.subset=function(c,g,F){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,c);case 2:case 3:return f(this,c,g,F);default:throw new SyntaxError("Wrong number of arguments")}};function a(c,g){if(!wr(g))throw new TypeError("Invalid index");var F=g.isScalar();if(F)return c.get(g.min());var y=g.size();if(y.length!==c._size.length)throw new de(y.length,c._size.length);var v,B,m,d,A=g.min(),_=g.max();for(v=0,B=c._size.length;v<B;v++)me(A[v],c._size[v]),me(_[v],c._size[v]);var N=c._values,T=c._index,O=c._ptr,Z=g.dimension(0),G=g.dimension(1),J=[],V=[];Z.forEach(function(X,k){V[X]=k[0],J[X]=!0});var q=N?[]:void 0,K=[],Y=[];return G.forEach(function(X){for(Y.push(K.length),m=O[X],d=O[X+1];m<d;m++)v=T[m],J[v]===!0&&(K.push(V[v]),q&&q.push(N[m]))}),Y.push(K.length),new u({values:q,index:K,ptr:Y,size:y,datatype:c._datatype})}function f(c,g,F,y){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var v=g.size(),B=g.isScalar(),m;if(we(F)?(m=F.size(),F=F.toArray()):m=Le(F),B){if(m.length!==0)throw new TypeError("Scalar expected");c.set(g.min(),F,y)}else{if(v.length!==1&&v.length!==2)throw new de(v.length,c._size.length,"<");if(m.length<v.length){for(var d=0,A=0;v[d]===1&&m[d]===1;)d++;for(;v[d]===1;)A++,d++;F=zn(F,v.length,A,m)}if(!yt(v,m))throw new de(v,m,">");if(v.length===1){var _=g.dimension(0);_.forEach(function(O,Z){me(O),c.set([O,0],F[Z[0]],y)})}else{var N=g.dimension(0),T=g.dimension(1);N.forEach(function(O,Z){me(O),T.forEach(function(G,J){me(G),c.set([O,G],F[Z[0]][J[0]],y)})})}}return c}u.prototype.get=function(c){if(!_e(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new de(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=c[0],F=c[1];me(g,this._size[0]),me(F,this._size[1]);var y=l(g,this._ptr[F],this._ptr[F+1],this._index);return y<this._ptr[F+1]&&this._index[y]===g?this._values[y]:0},u.prototype.set=function(c,g,F){if(!_e(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new de(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=c[0],v=c[1],B=this._size[0],m=this._size[1],d=r,A=0;ke(this._datatype)&&(d=t.find(r,[this._datatype,this._datatype])||r,A=t.convert(0,this._datatype)),(y>B-1||v>m-1)&&(D(this,Math.max(y+1,B),Math.max(v+1,m),F),B=this._size[0],m=this._size[1]),me(y,B),me(v,m);var _=l(y,this._ptr[v],this._ptr[v+1],this._index);return _<this._ptr[v+1]&&this._index[_]===y?d(g,A)?s(_,v,this._values,this._index,this._ptr):this._values[_]=g:d(g,A)||h(_,y,v,g,this._values,this._index,this._ptr),this};function l(c,g,F,y){if(F-g===0)return F;for(var v=g;v<F;v++)if(y[v]===c)return v;return g}function s(c,g,F,y,v){F.splice(c,1),y.splice(c,1);for(var B=g+1;B<v.length;B++)v[B]--}function h(c,g,F,y,v,B,m){v.splice(c,0,y),B.splice(c,0,g);for(var d=F+1;d<m.length;d++)m[d]++}u.prototype.resize=function(c,g,F){if(!Gt(c))throw new TypeError("Array or Matrix expected");var y=c.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(B){if(!De(B)||!Ne(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ce(y)+")")});var v=F?this.clone():this;return D(v,y[0],y[1],g)};function D(c,g,F,y){var v=y||0,B=r,m=0;ke(c._datatype)&&(B=t.find(r,[c._datatype,c._datatype])||r,m=t.convert(0,c._datatype),v=t.convert(v,c._datatype));var d=!B(v,m),A=c._size[0],_=c._size[1],N,T,O;if(F>_){for(T=_;T<F;T++)if(c._ptr[T]=c._values.length,d)for(N=0;N<A;N++)c._values.push(v),c._index.push(N);c._ptr[F]=c._values.length}else F<_&&(c._ptr.splice(F+1,_-F),c._values.splice(c._ptr[F],c._values.length),c._index.splice(c._ptr[F],c._index.length));if(_=F,g>A){if(d){var Z=0;for(T=0;T<_;T++){c._ptr[T]=c._ptr[T]+Z,O=c._ptr[T+1]+Z;var G=0;for(N=A;N<g;N++,G++)c._values.splice(O+G,0,v),c._index.splice(O+G,0,N),Z++}c._ptr[_]=c._values.length}}else if(g<A){var J=0;for(T=0;T<_;T++){c._ptr[T]=c._ptr[T]-J;var V=c._ptr[T],q=c._ptr[T+1]-J;for(O=V;O<q;O++)N=c._index[O],N>g-1&&(c._values.splice(O,1),c._index.splice(O,1),J++)}c._ptr[T]=c._values.length}return c._size[0]=g,c._size[1]=F,c}u.prototype.reshape=function(c,g){if(!_e(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(X){if(!De(X)||!Ne(X)||X<=-2||X===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ce(c)+")")});var F=this._size[0]*this._size[1];c=yr(c,F);var y=c[0]*c[1];if(F!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=g?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return v;for(var B=[],m=0;m<v._ptr.length;m++)for(var d=0;d<v._ptr[m+1]-v._ptr[m];d++)B.push(m);for(var A=v._values.slice(),_=v._index.slice(),N=0;N<v._index.length;N++){var T=_[N],O=B[N],Z=T*v._size[1]+O;B[N]=Z%c[1],_[N]=Math.floor(Z/c[1])}v._values.length=0,v._index.length=0,v._ptr.length=c[1]+1,v._size=c.slice();for(var G=0;G<v._ptr.length;G++)v._ptr[G]=0;for(var J=0;J<A.length;J++){var V=_[J],q=B[J],K=A[J],Y=l(V,v._ptr[q],v._ptr[q+1],v._index);h(Y,V,q,K,v._values,v._index,v._ptr)}return v},u.prototype.clone=function(){var c=new u({values:this._values?Fe(this._values):void 0,index:Fe(this._index),ptr:Fe(this._ptr),size:Fe(this._size),datatype:this._datatype});return c},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(c,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var F=this,y=this._size[0],v=this._size[1],B=kt(c,F,"map"),m=function(A,_,N){return B.fn(A,[_,N],F)};return w(this,0,y-1,0,v-1,m,g)};function w(c,g,F,y,v,B,m){var d=[],A=[],_=[],N=r,T=0;ke(c._datatype)&&(N=t.find(r,[c._datatype,c._datatype])||r,T=t.convert(0,c._datatype));for(var O=function(se,Ee,ve){var ge=B(se,Ee,ve);N(ge,T)||(d.push(ge),A.push(Ee))},Z=y;Z<=v;Z++){_.push(d.length);var G=c._ptr[Z],J=c._ptr[Z+1];if(m)for(var V=G;V<J;V++){var q=c._index[V];q>=g&&q<=F&&O(c._values[V],q-g,Z-y)}else{for(var K={},Y=G;Y<J;Y++){var X=c._index[Y];K[X]=c._values[Y]}for(var k=g;k<=F;k++){var ue=k in K?K[k]:0;O(ue,k-g,Z-y)}}}return _.push(d.length),new u({values:d,index:A,ptr:_,size:[F-g+1,v-y+1]})}u.prototype.forEach=function(c,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var F=this,y=this._size[0],v=this._size[1],B=kt(c,F,"forEach"),m=0;m<v;m++){var d=this._ptr[m],A=this._ptr[m+1];if(g)for(var _=d;_<A;_++){var N=this._index[_];B.fn(this._values[_],[N,m],F)}else{for(var T={},O=d;O<A;O++){var Z=this._index[O];T[Z]=this._values[O]}for(var G=0;G<y;G++){var J=G in T?T[G]:0;B.fn(J,[G,m],F)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],g=0;g<c;g++)for(var F=this._ptr[g],y=this._ptr[g+1],v=F;v<y;v++){var B=this._index[v];yield{value:this._values[v],index:[B,g]}}},u.prototype.toArray=function(){return C(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return C(this._values,this._index,this._ptr,this._size,!1)};function C(c,g,F,y,v){var B=y[0],m=y[1],d=[],A,_;for(A=0;A<B;A++)for(d[A]=[],_=0;_<m;_++)d[A][_]=0;for(_=0;_<m;_++)for(var N=F[_],T=F[_+1],O=N;O<T;O++)A=g[O],d[A][_]=c?v?Fe(c[O]):c[O]:1;return d}return u.prototype.format=function(c){for(var g=this._size[0],F=this._size[1],y=this.density(),v="Sparse Matrix ["+Ce(g,c)+" x "+Ce(F,c)+"] density: "+Ce(y,c)+`
`,B=0;B<F;B++)for(var m=this._ptr[B],d=this._ptr[B+1],A=m;A<d;A++){var _=this._index[A];v+=`
    (`+Ce(_,c)+", "+Ce(B,c)+") ==> "+(this._values?Ce(this._values[A],c):"X")}return v},u.prototype.toString=function(){return Ce(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(c){if(c){if(ye(c)&&(c=c.toNumber()),!De(c)||!Ne(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var g=c>0?c:0,F=c<0?-c:0,y=this._size[0],v=this._size[1],B=Math.min(y-F,v-g),m=[],d=[],A=[];A[0]=0;for(var _=g;_<v&&m.length<B;_++)for(var N=this._ptr[_],T=this._ptr[_+1],O=N;O<T;O++){var Z=this._index[O];if(Z===_-g+F){m.push(this._values[O]),d[m.length-1]=Z-F;break}}return A.push(m.length),new u({values:m,index:d,ptr:A,size:[B,1]})},u.fromJSON=function(c){return new u(c)},u.diagonal=function(c,g,F,y,v){if(!_e(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(X){if(ye(X)&&(X=X.toNumber()),!De(X)||!Ne(X)||X<1)throw new Error("Size values must be positive integers");return X}),F){if(ye(F)&&(F=F.toNumber()),!De(F)||!Ne(F))throw new TypeError("The parameter k must be an integer number")}else F=0;var B=r,m=0;ke(v)&&(B=t.find(r,[v,v])||r,m=t.convert(0,v));var d=F>0?F:0,A=F<0?-F:0,_=c[0],N=c[1],T=Math.min(_-A,N-d),O;if(_e(g)){if(g.length!==T)throw new Error("Invalid value array length");O=function(k){return g[k]}}else if(we(g)){var Z=g.size();if(Z.length!==1||Z[0]!==T)throw new Error("Invalid matrix length");O=function(k){return g.get([k])}}else O=function(){return g};for(var G=[],J=[],V=[],q=0;q<N;q++){V.push(G.length);var K=q-d;if(K>=0&&K<T){var Y=O(K);B(Y,m)||(J.push(K+A),G.push(Y))}}return V.push(G.length),new u({values:G,index:J,ptr:V,size:[_,N]})},u.prototype.swapRows=function(c,g){if(!De(c)||!Ne(c)||!De(g)||!Ne(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return me(c,this._size[0]),me(g,this._size[0]),u._swapRows(c,g,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(c,g,F,y,v){for(var B=y[c],m=y[c+1],d=B;d<m;d++)v(F[d],g[d])},u._swapRows=function(c,g,F,y,v,B){for(var m=0;m<F;m++){var d=B[m],A=B[m+1],_=l(c,d,A,v),N=l(g,d,A,v);if(_<A&&N<A&&v[_]===c&&v[N]===g){if(y){var T=y[_];y[_]=y[N],y[N]=T}continue}if(_<A&&v[_]===c&&(N>=A||v[N]!==g)){var O=y?y[_]:void 0;v.splice(N,0,g),y&&y.splice(N,0,O),v.splice(N<=_?_+1:_,1),y&&y.splice(N<=_?_+1:_,1);continue}if(N<A&&v[N]===g&&(_>=A||v[_]!==c)){var Z=y?y[N]:void 0;v.splice(_,0,c),y&&y.splice(_,0,Z),v.splice(_<=N?N+1:N,1),y&&y.splice(_<=N?N+1:N,1)}}},u},{isClass:!0}),ys="number",Bs=["typed"];function _s(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function bs(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var Ns=te(ys,Bs,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=_s(u);if(i)return bs(i);var o=0,a=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),u=a[1]);var f=Number(u);if(isNaN(f))throw new SyntaxError('String "'+u+'" is not a valid number');if(a){if(f>2**o-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));f>=2**(o-1)&&(f=f-2**o)}return f},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>Dt(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),Ms="bignumber",Ss=["typed","BigNumber"],Ts=te(Ms,Ss,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],a=r(i[1]),f=new r(2).pow(Number(o));if(a.gt(f.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var l=new r(2).pow(Number(o)-1);return a.gte(l)?a.sub(f):a}return new r(u)},BigNumber:function(u){return u},bigint:function(u){return new r(u.toString())},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(String(u.n)).div(String(u.d)).times(String(u.s))},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>Dt(u,n))})}),xs="fraction",Is=["typed","Fraction"],Os=te(xs,Is,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},"bigint, bigint":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},bigint:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>Dt(u,n))})}),Kr="matrix",zs=["typed","Matrix","DenseMatrix","SparseMatrix"],Ps=te(Kr,zs,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Kr,{"":function(){return i([])},string:function(a){return i([],a)},"string, string":function(a,f){return i([],a,f)},Array:function(a){return i(a)},Matrix:function(a){return i(a,a.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,a,f){if(a==="dense"||a==="default"||a===void 0)return new n(o,f);if(a==="sparse")return new u(o,f);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),Qr="unaryMinus",Rs=["typed"],qs=te(Qr,Rs,e=>{var{typed:t}=e;return t(Qr,{number:Wn,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>Dt(n,r,!0))})}),kr="abs",$s=["typed"],Us=te(kr,$s,e=>{var{typed:t}=e;return t(kr,{number:Ln,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>Dt(n,r,!0))})}),en="addScalar",Ls=["typed"],Zs=te(en,Ls,e=>{var{typed:t}=e;return t(en,{"number, number":Zn,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),tn="subtractScalar",Vs=["typed"],Hs=te(tn,Vs,e=>{var{typed:t}=e;return t(tn,{"number, number":Vn,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),Ws="matAlgo11xS0s",Gs=["typed","equalScalar"],Js=te(Ws,Gs,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,a){var f=u._values,l=u._index,s=u._ptr,h=u._size,D=u._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var w=h[0],C=h[1],c,g=r,F=0,y=o;typeof D=="string"&&(c=D,g=t.find(r,[c,c]),F=t.convert(0,c),i=t.convert(i,c),y=t.find(o,[c,c]));for(var v=[],B=[],m=[],d=0;d<C;d++){m[d]=B.length;for(var A=s[d],_=s[d+1],N=A;N<_;N++){var T=l[N],O=a?y(i,f[N]):y(f[N],i);g(O,F)||(B.push(T),v.push(O))}}return m[C]=B.length,u.createSparseMatrix({values:v,index:B,ptr:m,size:[w,C],datatype:c})}}),Ys="matAlgo14xDs",Xs=["typed"],js=te(Ys,Xs,e=>{var{typed:t}=e;return function(u,i,o,a){var f=u._data,l=u._size,s=u._datatype,h,D=o;typeof s=="string"&&(h=s,i=t.convert(i,h),D=t.find(o,[h,h]));var w=l.length>0?r(D,0,l,l[0],f,i,a):[];return u.createDenseMatrix({data:w,size:Fe(l),datatype:h})};function r(n,u,i,o,a,f,l){var s=[];if(u===i.length-1)for(var h=0;h<o;h++)s[h]=l?n(f,a[h]):n(a[h],f);else for(var D=0;D<o;D++)s[D]=r(n,u+1,i,i[u+1],a[D],f,l);return s}}),Ks="multiplyScalar",Qs=["typed"],ks=te(Ks,Qs,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Hn,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),rn="multiply",ea=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ta=te(rn,ea,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,a=Js({typed:t,equalScalar:i}),f=js({typed:t});function l(m,d){switch(m.length){case 1:switch(d.length){case 1:if(m[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(m[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+d[0]+")");break;case 2:if(m[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function s(m,d,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return o(m,d)}function h(m,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(m,d)}function D(m,d){var A=m._data,_=m._size,N=m._datatype||m.getDataType(),T=d._data,O=d._size,Z=d._datatype||d.getDataType(),G=_[0],J=O[1],V,q=n,K=u;N&&Z&&N===Z&&typeof N=="string"&&N!=="mixed"&&(V=N,q=t.find(n,[V,V]),K=t.find(u,[V,V]));for(var Y=[],X=0;X<J;X++){for(var k=K(A[0],T[0][X]),ue=1;ue<G;ue++)k=q(k,K(A[ue],T[ue][X]));Y[X]=k}return m.createDenseMatrix({data:Y,size:[J],datatype:N===m._datatype&&Z===d._datatype?V:void 0})}var w=t("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":y}),C=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":F,"SparseMatrix, DenseMatrix":v,"SparseMatrix, SparseMatrix":B});function c(m,d){var A=m._data,_=m._size,N=m._datatype||m.getDataType(),T=d._data,O=d._datatype||d.getDataType(),Z=_[0],G=_[1],J,V=n,q=u;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&(J=N,V=t.find(n,[J,J]),q=t.find(u,[J,J]));for(var K=[],Y=0;Y<Z;Y++){for(var X=A[Y],k=q(X[0],T[0]),ue=1;ue<G;ue++)k=V(k,q(X[ue],T[ue]));K[Y]=k}return m.createDenseMatrix({data:K,size:[Z],datatype:N===m._datatype&&O===d._datatype?J:void 0})}function g(m,d){var A=m._data,_=m._size,N=m._datatype||m.getDataType(),T=d._data,O=d._size,Z=d._datatype||d.getDataType(),G=_[0],J=_[1],V=O[1],q,K=n,Y=u;N&&Z&&N===Z&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(q=N,K=t.find(n,[q,q]),Y=t.find(u,[q,q]));for(var X=[],k=0;k<G;k++){var ue=A[k];X[k]=[];for(var re=0;re<V;re++){for(var se=Y(ue[0],T[0][re]),Ee=1;Ee<J;Ee++)se=K(se,Y(ue[Ee],T[Ee][re]));X[k][re]=se}}return m.createDenseMatrix({data:X,size:[G,V],datatype:N===m._datatype&&Z===d._datatype?q:void 0})}function F(m,d){var A=m._data,_=m._size,N=m._datatype||m.getDataType(),T=d._values,O=d._index,Z=d._ptr,G=d._size,J=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=_[0],q=G[1],K,Y=n,X=u,k=i,ue=0;N&&J&&N===J&&typeof N=="string"&&N!=="mixed"&&(K=N,Y=t.find(n,[K,K]),X=t.find(u,[K,K]),k=t.find(i,[K,K]),ue=t.convert(0,K));for(var re=[],se=[],Ee=[],ve=d.createSparseMatrix({values:re,index:se,ptr:Ee,size:[V,q],datatype:N===m._datatype&&J===d._datatype?K:void 0}),ge=0;ge<q;ge++){Ee[ge]=se.length;var he=Z[ge],Pe=Z[ge+1];if(Pe>he)for(var ae=0,ie=0;ie<V;ie++){for(var Ve=ie+1,xe=void 0,fe=he;fe<Pe;fe++){var Me=O[fe];ae!==Ve?(xe=X(A[ie][Me],T[fe]),ae=Ve):xe=Y(xe,X(A[ie][Me],T[fe]))}ae===Ve&&!k(xe,ue)&&(se.push(ie),re.push(xe))}}return Ee[q]=se.length,ve}function y(m,d){var A=m._values,_=m._index,N=m._ptr,T=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=d._data,Z=d._datatype||d.getDataType(),G=m._size[0],J=d._size[0],V=[],q=[],K=[],Y,X=n,k=u,ue=i,re=0;T&&Z&&T===Z&&typeof T=="string"&&T!=="mixed"&&(Y=T,X=t.find(n,[Y,Y]),k=t.find(u,[Y,Y]),ue=t.find(i,[Y,Y]),re=t.convert(0,Y));var se=[],Ee=[];K[0]=0;for(var ve=0;ve<J;ve++){var ge=O[ve];if(!ue(ge,re))for(var he=N[ve],Pe=N[ve+1],ae=he;ae<Pe;ae++){var ie=_[ae];Ee[ie]?se[ie]=X(se[ie],k(ge,A[ae])):(Ee[ie]=!0,q.push(ie),se[ie]=k(ge,A[ae]))}}for(var Ve=q.length,xe=0;xe<Ve;xe++){var fe=q[xe];V[xe]=se[fe]}return K[1]=q.length,m.createSparseMatrix({values:V,index:q,ptr:K,size:[G,1],datatype:T===m._datatype&&Z===d._datatype?Y:void 0})}function v(m,d){var A=m._values,_=m._index,N=m._ptr,T=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=d._data,Z=d._datatype||d.getDataType(),G=m._size[0],J=d._size[0],V=d._size[1],q,K=n,Y=u,X=i,k=0;T&&Z&&T===Z&&typeof T=="string"&&T!=="mixed"&&(q=T,K=t.find(n,[q,q]),Y=t.find(u,[q,q]),X=t.find(i,[q,q]),k=t.convert(0,q));for(var ue=[],re=[],se=[],Ee=m.createSparseMatrix({values:ue,index:re,ptr:se,size:[G,V],datatype:T===m._datatype&&Z===d._datatype?q:void 0}),ve=[],ge=[],he=0;he<V;he++){se[he]=re.length;for(var Pe=he+1,ae=0;ae<J;ae++){var ie=O[ae][he];if(!X(ie,k))for(var Ve=N[ae],xe=N[ae+1],fe=Ve;fe<xe;fe++){var Me=_[fe];ge[Me]!==Pe?(ge[Me]=Pe,re.push(Me),ve[Me]=Y(ie,A[fe])):ve[Me]=K(ve[Me],Y(ie,A[fe]))}}for(var He=se[he],tt=re.length,rt=He;rt<tt;rt++){var pt=re[rt];ue[rt]=ve[pt]}}return se[V]=re.length,Ee}function B(m,d){var A=m._values,_=m._index,N=m._ptr,T=m._datatype||m._data===void 0?m._datatype:m.getDataType(),O=d._values,Z=d._index,G=d._ptr,J=d._datatype||d._data===void 0?d._datatype:d.getDataType(),V=m._size[0],q=d._size[1],K=A&&O,Y,X=n,k=u;T&&J&&T===J&&typeof T=="string"&&T!=="mixed"&&(Y=T,X=t.find(n,[Y,Y]),k=t.find(u,[Y,Y]));for(var ue=K?[]:void 0,re=[],se=[],Ee=m.createSparseMatrix({values:ue,index:re,ptr:se,size:[V,q],datatype:T===m._datatype&&J===d._datatype?Y:void 0}),ve=K?[]:void 0,ge=[],he,Pe,ae,ie,Ve,xe,fe,Me,He=0;He<q;He++){se[He]=re.length;var tt=He+1;for(Ve=G[He],xe=G[He+1],ie=Ve;ie<xe;ie++)if(Me=Z[ie],K)for(Pe=N[Me],ae=N[Me+1],he=Pe;he<ae;he++)fe=_[he],ge[fe]!==tt?(ge[fe]=tt,re.push(fe),ve[fe]=k(O[ie],A[he])):ve[fe]=X(ve[fe],k(O[ie],A[he]));else for(Pe=N[Me],ae=N[Me+1],he=Pe;he<ae;he++)fe=_[he],ge[fe]!==tt&&(ge[fe]=tt,re.push(fe));if(K)for(var rt=se[He],pt=re.length,dt=rt;dt<pt;dt++){var or=re[dt];ue[dt]=ve[or]}}return se[q]=re.length,Ee}return t(rn,u,{"Array, Array":t.referTo("Matrix, Matrix",m=>(d,A)=>{l(Le(d),Le(A));var _=m(r(d),r(A));return we(_)?_.valueOf():_}),"Matrix, Matrix":function(d,A){var _=d.size(),N=A.size();return l(_,N),_.length===1?N.length===1?s(d,A,_[0]):h(d,A):N.length===1?w(d,A):C(d,A)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(d,A)=>m(d,r(A))),"Array, Matrix":t.referToSelf(m=>(d,A)=>m(r(d,A.storage()),A)),"SparseMatrix, any":function(d,A){return a(d,A,u,!1)},"DenseMatrix, any":function(d,A){return f(d,A,u,!1)},"any, SparseMatrix":function(d,A){return a(A,d,u,!0)},"any, DenseMatrix":function(d,A){return f(A,d,u,!0)},"Array, any":function(d,A){return f(r(d),A,u,!1).valueOf()},"any, Array":function(d,A){return f(r(A),d,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(m=>(d,A,_)=>{for(var N=m(d,A),T=0;T<_.length;T++)N=m(N,_[T]);return N})})}),nn="conj",ra=["typed"],na=te(nn,ra,e=>{var{typed:t}=e;return t(nn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":t.referToSelf(r=>n=>Dt(n,r))})}),un="identity",ua=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],ia=te(un,ua,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(un,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(s){return n(s)},"number | BigNumber":function(s){return f(s,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,h){return f(s,s,h)},"number | BigNumber, number | BigNumber":function(s,h){return f(s,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,h,D){return f(s,h,D)},Array:function(s){return a(s)},"Array, string":function(s,h){return a(s,h)},Matrix:function(s){return a(s.valueOf(),s.storage())},"Matrix, string":function(s,h){return a(s.valueOf(),h)}});function a(l,s){switch(l.length){case 0:return s?n(s):[];case 1:return f(l[0],l[0],s);case 2:return f(l[0],l[1],s);default:throw new Error("Vector containing two values expected")}}function f(l,s,h){var D=ye(l)||ye(s)?u:null;if(ye(l)&&(l=l.toNumber()),ye(s)&&(s=s.toNumber()),!Ne(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Ne(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var w=D?new u(1):1,C=D?new D(0):0,c=[l,s];if(h){if(h==="sparse")return o.diagonal(c,w,0,C);if(h==="dense")return i.diagonal(c,w,0,C);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var g=vr([],c,C),F=l<s?l:s,y=0;y<F;y++)g[y][y]=w;return g}});function oa(){throw new Error('No "bignumber" implementation available')}function sa(){throw new Error('No "fraction" implementation available')}function aa(){throw new Error('No "matrix" implementation available')}var on="size",fa=["typed","config","?matrix"],ca=te(on,fa,e=>{var{typed:t,config:r,matrix:n}=e;return t(on,{Matrix:function(i){return i.create(i.size(),"number")},Array:Le,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([],"dense","number"):aa()}})}),la="numeric",ha=["number","?bignumber","?fraction"],Da=te(la,ha,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):oa,bigint:o=>BigInt(o),Fraction:n?o=>n(o):sa};return function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=at(a);if(!(s in u))throw new TypeError("Cannot convert "+a+' of type "'+s+'"; valid input types are '+Object.keys(u).join(", "));if(!(f in i))throw new TypeError("Cannot convert "+a+' to type "'+f+'"; valid output types are '+Object.keys(i).join(", "));return f===s?a:i[f](a)}}),sn="divideScalar",pa=["typed","numeric"],da=te(sn,pa,e=>{var{typed:t,numeric:r}=e;return t(sn,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),an="dot",ga=["typed","addScalar","multiplyScalar","conj","size"],ma=te(an,ga,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(an,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":f});function o(s,h){var D=l(s),w=l(h),C,c;if(D.length===1)C=D[0];else if(D.length===2&&D[1]===1)C=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(w.length===1)c=w[0];else if(w.length===2&&w[1]===1)c=w[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+w.join(", ")+")");if(C!==c)throw new RangeError("Vectors must have equal length ("+C+" != "+c+")");if(C===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return C}function a(s,h){var D=o(s,h),w=we(s)?s._data:s,C=we(s)?s._datatype||s.getDataType():void 0,c=we(h)?h._data:h,g=we(h)?h._datatype||h.getDataType():void 0,F=l(s).length===2,y=l(h).length===2,v=r,B=n;if(C&&g&&C===g&&typeof C=="string"&&C!=="mixed"){var m=C;v=t.find(r,[m,m]),B=t.find(n,[m,m])}if(!F&&!y){for(var d=B(u(w[0]),c[0]),A=1;A<D;A++)d=v(d,B(u(w[A]),c[A]));return d}if(!F&&y){for(var _=B(u(w[0]),c[0][0]),N=1;N<D;N++)_=v(_,B(u(w[N]),c[N][0]));return _}if(F&&!y){for(var T=B(u(w[0][0]),c[0]),O=1;O<D;O++)T=v(T,B(u(w[O][0]),c[O]));return T}if(F&&y){for(var Z=B(u(w[0][0]),c[0][0]),G=1;G<D;G++)Z=v(Z,B(u(w[G][0]),c[G][0]));return Z}}function f(s,h){o(s,h);for(var D=s._index,w=s._values,C=h._index,c=h._values,g=0,F=r,y=n,v=0,B=0;v<D.length&&B<C.length;){var m=D[v],d=C[B];if(m<d){v++;continue}if(m>d){B++;continue}m===d&&(g=F(g,y(w[v],c[B])),v++,B++)}return g}function l(s){return we(s)?s.size():i(s)}}),fn="det",va=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Fa=te(fn,va,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:a}=e;return t(fn,{any:function(s){return Fe(s)},"Array | Matrix":function(s){var h;switch(we(s)?h=s.size():Array.isArray(s)?(s=r(s),h=s.size()):h=[],h.length){case 0:return Fe(s);case 1:if(h[0]===1)return Fe(s.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ce(h)+")");case 2:{var D=h[0],w=h[1];if(D===w)return f(s.clone().valueOf(),D);if(w===0)return 1;throw new RangeError("Matrix must be square (size: "+Ce(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ce(h)+")")}}});function f(l,s,h){if(s===1)return Fe(l[0][0]);if(s===2)return n(u(l[0][0],l[1][1]),u(l[1][0],l[0][1]));for(var D=!1,w=new Array(s).fill(0).map((A,_)=>_),C=0;C<s;C++){var c=w[C];if(o(l[c][C])){var g=void 0;for(g=C+1;g<s;g++)if(!o(l[w[g]][C])){c=w[g],w[g]=w[C],w[C]=c,D=!D;break}if(g===s)return l[c][C]}for(var F=l[c][C],y=C===0?1:l[w[C-1]][C-1],v=C+1;v<s;v++)for(var B=w[v],m=C+1;m<s;m++)l[B][m]=i(n(u(l[B][m],F),u(l[B][C],l[c][m])),y)}var d=l[w[s-1]][s-1];return D?a(d):d}}),cn="inv",wa=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ea=te(cn,wa,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:a,identity:f,abs:l}=e;return t(cn,{"Array | Matrix":function(D){var w=we(D)?D.size():Le(D);switch(w.length){case 1:if(w[0]===1)return we(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+Ce(w)+")");case 2:{var C=w[0],c=w[1];if(C===c)return we(D)?r(s(D.valueOf(),C,c),D.storage()):s(D,C,c);throw new RangeError("Matrix must be square (size: "+Ce(w)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ce(w)+")")}},any:function(D){return n(1,D)}});function s(h,D,w){var C,c,g,F,y;if(D===1){if(F=h[0][0],F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,F)]]}else if(D===2){var v=a(h);if(v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],v),n(o(h[0][1]),v)],[n(o(h[1][0]),v),n(h[0][0],v)]]}else{var B=h.concat();for(C=0;C<D;C++)B[C]=B[C].concat();for(var m=f(D).valueOf(),d=0;d<w;d++){var A=l(B[d][d]),_=d;for(C=d+1;C<D;)l(B[C][d])>A&&(A=l(B[C][d]),_=C),C++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");C=_,C!==d&&(y=B[d],B[d]=B[C],B[C]=y,y=m[d],m[d]=m[C],m[C]=y);var N=B[d],T=m[d];for(C=0;C<D;C++){var O=B[C],Z=m[C];if(C!==d){if(O[d]!==0){for(g=n(o(O[d]),N[d]),c=d;c<w;c++)O[c]=u(O[c],i(g,N[c]));for(c=0;c<w;c++)Z[c]=u(Z[c],i(g,T[c]))}}else{for(g=N[d],c=d;c<w;c++)O[c]=n(O[c],g);for(c=0;c<w;c++)Z[c]=n(Z[c],g)}}}return m}}}),br=Io({config:zt}),Aa=qo({}),Gn=Go({}),Nr=Xo({}),Mr=Ds({Matrix:Nr}),Be=zi({BigNumber:br,Complex:Aa,DenseMatrix:Mr,Fraction:Gn}),Ca=Us({typed:Be}),Sr=Zs({typed:Be}),ya=na({typed:Be}),Tr=ws({config:zt,typed:Be}),Ba=gs({equalScalar:Tr,typed:Be}),Jn=ks({typed:Be}),_a=Ns({typed:Be}),Yn=Cs({Matrix:Nr,equalScalar:Tr,typed:Be}),ba=Hs({typed:Be}),Na=Ts({BigNumber:br,typed:Be}),Nt=Ps({DenseMatrix:Mr,Matrix:Nr,SparseMatrix:Yn,typed:Be}),Ma=Os({Fraction:Gn,typed:Be}),Sa=ia({BigNumber:br,DenseMatrix:Mr,SparseMatrix:Yn,config:zt,matrix:Nt,typed:Be}),Ta=Da({bignumber:Na,fraction:Ma,number:_a}),xa=ca({matrix:Nt,config:zt,typed:Be}),Xn=qs({typed:Be}),jn=da({numeric:Ta,typed:Be}),Ia=ma({addScalar:Sr,conj:ya,multiplyScalar:Jn,size:xa,typed:Be}),xr=ta({addScalar:Sr,dot:Ia,equalScalar:Tr,matrix:Nt,multiplyScalar:Jn,typed:Be}),Kn=Fa({divideScalar:jn,isZero:Ba,matrix:Nt,multiply:xr,subtractScalar:ba,typed:Be,unaryMinus:Xn}),Oa=Ea({abs:Ca,addScalar:Sr,det:Kn,divideScalar:jn,identity:Sa,matrix:Nt,multiply:xr,typed:Be,unaryMinus:Xn});const Lt=7107965,Qn=4434571,za=15954476,Pa=16369487,Ra=16335172,kn=2588065;function qa(){const e=new Ou,t=new zu(75,600/500,.1,1e3),r=new Pu({canvas:rFunction,antialias:!0,alpha:!0});r.setSize(600,500),r.setPixelRatio(window.devicePixelRatio);const n=4;let u=ln(n);document.getElementById("n").innerHTML=n.toString();let i=Ua(u);i.name="interpolationGraph",e.add(i);const o=document.getElementById("range");o.oninput=function(){let f=4,l=4434571;switch(o.value){case"0":f=4,l=Pa,document.getElementById("n").innerHTML=f.toString();break;case"1":f=10,l=za,document.getElementById("n").innerHTML=f.toString();break;case"2":f=25,l=Ra,document.getElementById("n").innerHTML=f.toString();break}u=ln(f);const h=tu(u),D=e.getObjectByName("interpolationGraph");D.geometry.setAttribute("position",new Ct(h,3)),D.material=new xt({color:l})};for(let f=0;f<u.length;f++){let l=La(u[f]);l.name="point"+f,e.add(l);const s=new lr;l.add(s),s.text="p"+(f+1),s.fontSize=.3,s.position.x=u[f][0],s.position.y=u[f][1],s.color=kn,s.sync()}let a=$a();e.add(a),Za(5,e),t.position.z=8,ru(e,r,t)}function $a(){const e=[];for(let n=-5;n<=5;n+=.1){const u=eu(n);e.push(n,u,0)}const t=new It;t.setAttribute("position",new Ct(e,3));const r=new xt({color:Qn});return new Vt(t,r)}function eu(e){return 1/(1+Math.pow(e,2))}function Ua(e){const t=tu(e),r=new It;r.setAttribute("position",new Ct(t,3));const n=new xt({color:Qn});return new Vt(r,n)}function tu(e){const t=[];for(let s=0;s<e.length;s++){let h=[];for(let D=0;D<e.length;D++){let w=Math.pow(e[s][0],D);h.push(w)}t.push(h)}const r=[];t.forEach(s=>r.push([...s])),console.log(Kn(r));const n=Oa(r),u=[];for(let s=0;s<e.length;s++){let h=e[s][1];u.push(h)}const i=Nt(u);let o=[];xr(n,i).forEach(s=>o.push(s)),o=o.reverse();const f=function(s){let h=0;for(let D=0;D<e.length;D++)h+=o[D]*Math.pow(s,e.length-D-1);return h},l=[];for(let s=-5;s<=5;s+=.1){const h=f(s);l.push(s,h,0)}return l}function La(e){const t=new It;t.setAttribute("position",new Ct([e[0],e[1],0],3));const r=new Ru({size:4,sizeAttenuation:!1,color:kn});return new qu(t,r)}function Za(e,t){const r=new It,n=[-e,0,0,e,0,0];r.setAttribute("position",new Ct(n,3));const u=new xt({color:Lt}),i=new Vt(r,u),o=new It,a=[0,-e,0,0,e,0];o.setAttribute("position",new Ct(a,3));const f=new xt({color:Lt}),l=new Vt(o,f);t.add(i),t.add(l);const s=new lr;i.add(s),s.text="x",s.fontSize=.5,s.position.x=-e,s.color=Lt,s.sync();const h=new lr;l.add(h),h.text="f",h.fontSize=.5,h.position.y=-e,h.color=Lt,h.sync()}function ru(e,t,r){t.render(e,r),requestAnimationFrame(function(){ru(e,t,r)})}function ln(e){let t=[];for(let r=0;r<=e;r++){let n=[];n[0]=-5+10*(r/e),n[1]=eu(n[0]),t.push(n)}return console.log(t),t}qa();
