import"./style-CTfVKPeI.js";import{S as V,P as F,W as J,T as B,F as p,B as f,L as P,c as A,a as R,b as _,M as j,V as L}from"./troika-three-text.esm-OaSV2ryF.js";const M=7107965,C=4434571,I=15954476;function D(){const t=new V,e=new F(75,600/500,.1,1e3),n=new J({canvas:interpolatePolynomial,antialias:!0,alpha:!0});n.setSize(600,500),n.setPixelRatio(window.devicePixelRatio);for(let o=1;o<=4;o++)document.getElementById("sliderP"+o.toString()+"x").oninput=function(){const r=document.getElementById("sliderP"+o.toString()+"x").value,a=s[o-1];m(a,r,o-1,0)},document.getElementById("sliderP"+o.toString()+"y").oninput=function(){const r=document.getElementById("sliderP"+o.toString()+"y").value,a=s[o-1];m(a,r,o-1,1)};let i=[1,-20],d=[6,-26],l=[10,0],u=[16,40];const s=[i,d,l,u];MathJax.typesetPromise().then(()=>{document.getElementById("matrix").innerHTML=b(i,d,l,u),MathJax.typesetPromise()}).catch(o=>console.log(o.message)),E(i,d,l,u);let x=N(s);x.name="interpolationGraph",t.add(x);for(let o=0;o<s.length;o++){let r=O(s[o]);r.name="point"+o,t.add(r);const a=new B;r.add(a),a.text="p"+o,a.fontSize=3,a.position.x=s[o][0],a.position.y=s[o][1],a.color=I,a.sync()}W(40,t);function m(o,r,a,h){o[h]=r;const c=[...s];c[a]=o;const y=H(c[0],c[1],c[2],c[3]);t.getObjectByName("interpolationGraph").geometry.setAttribute("position",new p(y,3));const w=t.getObjectByName("point"+a);w.geometry.setAttribute("position",new p([o[0],o[1],0],3));const g=w.children[0];g.position.x=o[0],g.position.y=o[1];const S=b(c[0],c[1],c[2],c[3]);MathJax.typesetPromise().then(()=>{document.getElementById("matrix").innerHTML=S,MathJax.typesetPromise()}).catch(z=>console.log(z.message)),E(c[0],c[1],c[2],c[3])}e.position.z=60,G(t,n,e)}function N(t){const e=H(t[0],t[1],t[2],t[3]),n=new f;n.setAttribute("position",new p(e,3));const i=new P({color:C});return new A(n,i)}function H(t,e,n,i){const d=t[0],l=e[0],u=n[0],s=i[0],x=t[1],m=e[1],o=n[1],r=i[1],a=new j;a.set(1,d,Math.pow(d,2),Math.pow(d,3),1,l,Math.pow(l,2),Math.pow(l,3),1,u,Math.pow(u,2),Math.pow(u,3),1,s,Math.pow(s,2),Math.pow(s,3));const h=a.invert(),c=new L;c.set(x,m,o,r);let y=new L;y=q(h,c),k(y);const T=function(g){return y.w*Math.pow(g,3)+y.z*Math.pow(g,2)+y.y*g+y.x},w=[];for(let g=-20;g<=20;g+=.1){const S=T(g);w.push(g,S,0)}return w}function O(t){const e=new f;e.setAttribute("position",new p([t[0],t[1],0],3));const n=new R({size:4,sizeAttenuation:!1,color:I});return new _(e,n)}function W(t,e){const n=new f,i=[-t,0,0,t,0,0];n.setAttribute("position",new p(i,3));const d=new P({color:M}),l=new A(n,d),u=new f,s=[0,-t,0,0,t,0];u.setAttribute("position",new p(s,3));const x=new P({color:M}),m=new A(u,x);e.add(l),e.add(m);const o=new B;l.add(o),o.text="x",o.fontSize=3,o.position.x=-t,o.color=M,o.sync();const r=new B;m.add(r),r.text="f",r.fontSize=3,r.position.y=-t,r.color=M,r.sync()}function q(t,e){const n=t.elements,i=n[0]*e.x+n[4]*e.y+n[8]*e.z+n[12]*e.w,d=n[1]*e.x+n[5]*e.y+n[9]*e.z+n[13]*e.w,l=n[2]*e.x+n[6]*e.y+n[10]*e.z+n[14]*e.w,u=n[3]*e.x+n[7]*e.y+n[11]*e.z+n[15]*e.w,s=new L;return s.set(i,d,l,u),s}function G(t,e,n){e.render(t,n),requestAnimationFrame(function(){G(t,e,n)})}function b(t,e,n,i){return`\\[\\left[\\begin{array}{cccc}
    1 & `+t[0].toString()+" & "+t[0].toString()+"^2 & "+t[0].toString()+`^3	\\\\
    1 & `+e[0].toString()+" & "+e[0].toString()+"^2 & "+e[0].toString()+`^3	\\\\
    1 & `+n[0].toString()+" & "+n[0].toString()+"^2 & "+n[0].toString()+`^3	\\\\
    1 & `+i[0].toString()+" & "+i[0].toString()+"^2 & "+i[0].toString()+`^3
    \\end{array}\\right] \\cdot \\left[\\begin{array}{cccc}
    a_0 	\\\\
    a_1 	\\\\
    a_2 	\\\\
    a_3 
    \\end{array}\\right] =  \\left[\\begin{array}{cccc}
    `+t[1].toString()+` 	\\\\
    `+e[1].toString()+`	\\\\
    `+n[1].toString()+`	\\\\
    `+i[1].toString()+`
    \\end{array}\\right]\\]`}function E(t,e,n,i){document.getElementById("p1x").innerHTML=t[0].toString(),document.getElementById("p1y").innerHTML=t[1].toString(),document.getElementById("p2x").innerHTML=e[0].toString(),document.getElementById("p2y").innerHTML=e[1].toString(),document.getElementById("p3x").innerHTML=n[0].toString(),document.getElementById("p3y").innerHTML=n[1].toString(),document.getElementById("p4x").innerHTML=i[0].toString(),document.getElementById("p4y").innerHTML=i[1].toString()}function k(t){document.getElementById("resultPolynomial").innerHTML="\\[ p(x)= "+Math.round(t.w*100)/100+"+"+Math.round(t.z*100)/100+"x^1+"+Math.round(t.y*100)/100+"x^2+"+Math.round(t.x*100)/100+"x^3 \\]"}D();
